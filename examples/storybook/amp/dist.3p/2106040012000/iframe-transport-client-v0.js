;
(function(){"use strict";var h;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function m(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ba(a){return(a=Number(a))?0<a?1:-1:a}var ca=Object.prototype.hasOwnProperty;function da(a,b){if(null==a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1;d<arguments.length;d++){var e=arguments[d];if(null!=e)for(var f in e)ca.call(e,f)&&(c[f]=e[f])}return c}function ea(a){return Object.keys(a).map((function(b){return a[b]}))}function p(a){if(!(this instanceof p))throw new TypeError("Constructor Promise requires `new`");if(!q(a))throw new TypeError("Must pass resolver function");this._state=r;this._value=[];this._isChainEnd=!0;t(this,u(this,v),u(this,w),{then:a})}p.prototype.then=function(a,b){a=q(a)?a:void 0;b=q(b)?b:void 0;if(a||b)this._isChainEnd=!1;return this._state(this._value,a,b)};p.prototype.catch=function(a){return this.then(void 0,a)};function fa(a){return a===Object(a)&&a instanceof this?a:new this((function(b){b(a)}))}function ha(a){return new this((function(b,c){c(a)}))}function ia(a){var b=this;return new b((function(c,d){var e=a.length,f=Array(e);if(0===e)return c(f);ja(a,(function(g,k){b.resolve(g).then((function(n){f[k]=n;0===--e&&c(f)}),d)}))}))}function ka(a){var b=this;return new b((function(c,d){for(var e=0;e<a.length;e++)b.resolve(a[e]).then(c,d)}))}function v(a,b,c,d){if(!b){if(b=d)b=b.promise,b._state=v,b._value=a;return this}d||(d=new x(this.constructor));y(z(d,b,a));return d.promise}function w(a,b,c,d){if(!c)return d&&(b=d.promise,b._state=w,b._value=a),this;d||(d=new x(this.constructor));y(z(d,c,a));return d.promise}function r(a,b,c,d){if(!d){if(!b&&!c)return this;d=new x(this.constructor)}a.push({deferred:d,onFulfilled:b||d.resolve,onRejected:c||d.reject});return d.promise}function x(a){var b=this;this.promise=new a((function(c,d){b.resolve=c;b.reject=d}));return b}function A(a,b,c,d){var e=a._value;a._state=b;a._value=c;d&&b===r&&d._state(c,void 0,void 0,{promise:a,resolve:void 0,reject:void 0});for(var f=0;f<e.length;f++){var g=e[f];a._state(c,g.onFulfilled,g.onRejected,g.deferred)}e.length=0;d&&(d._isChainEnd=!1);b===w&&a._isChainEnd&&setTimeout((function(){if(a._isChainEnd)throw c}),0)}function u(a,b){return function(c){A(a,b,c)}}function B(){}function q(a){return"function"===typeof a}function ja(a,b){for(var c=0;c<a.length;c++)b(a[c],c)}function z(a,b,c){var d=a.promise,e=a.resolve,f=a.reject;return function(){try{var g=b(c);t(d,e,f,g,g)}catch(k){f(k)}}}var y=function(){function a(){for(var e=0;e<d;e++){var f=c[e];c[e]=null;f()}d=0}if("undefined"!==typeof window&&window.postMessage){window.addEventListener("message",a);var b=function(){window.postMessage("macro-task","*")}}else b=function(){setTimeout(a,0)};var c=Array(16),d=0;return function(e){0===d&&b();c[d++]=e}}();function t(a,b,c,d,e){var g,f=c;try{if(d===a)throw new TypeError("Cannot fulfill promise with itself");var k=d===Object(d);if(k&&d instanceof a.constructor)A(a,d._state,d._value,d);else if(k&&(g=d.then)&&q(g)){var n=function(l){n=f=B;t(a,b,c,l,l)};f=function(l){n=f=B;c(l)};g.call(e,(function(l){n(l)}),(function(l){f(l)}))}else b(d)}catch(l){f(l)}}function la(a,b){return this.substr(0<b?0|b:0,a.length)===a}(function(a){a.Math.sign||a.Object.defineProperty(a.Math,"sign",{enumerable:!1,configurable:!0,writable:!0,value:ba})})(self);(function(a){a.Object.assign||a.Object.defineProperty(a.Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:da})})(self);(function(a){a.Object.values||a.Object.defineProperty(a.Object,"values",{configurable:!0,writable:!0,value:ea})})(self);(function(a){a.Promise||(a.Promise=p,p.default&&(a.Promise=p.default),a.Promise.resolve=fa,a.Promise.reject=ha,a.Promise.all=ia,a.Promise.race=ka)})(self);(function(a){a.String.prototype.startsWith||a.Object.defineProperty(a.String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:la})})(self);var C=Array.isArray;function ma(a,b){for(var c=[],d=0,e=0;e<a.length;e++){var f=a[e];b(f,e,a)?c.push(f):(d<e&&(a[d]=f),d++)}d<a.length&&(a.length=d);return c}function na(a,b){var c;"number"!==typeof c&&(c=0);return c+b.length>a.length?!1:-1!==a.indexOf(b,c)}function D(a){return 1==(null==a?void 0:a.nodeType)?a.tagName.toLowerCase()+(a.id?"#"+a.id:""):a}function oa(a,b,c,d){var e=void 0===c?"Assertion failed":c;if(b)return b;a&&!na(e,a)&&(e+=a);for(var f=3,g=e.split("%s"),k=g.shift(),n=[k];g.length;){var l=arguments[f++],O=g.shift();k+=D(l)+O;n.push(l,O.trim())}f=Error(k);f.messageArray=ma(n,(function(va){return""!==va}));var P,Q;null==(Q=(P=self).__AMP_REPORT_ERROR)||Q.call(P,f);throw f}function E(a,b,c,d,e){C(e)?a(c,e.concat([b])):a(c,(e||d)+": %s",b);return b}function F(a){var b;if(null==(b=Object.getOwnPropertyDescriptor(a,"message"))?0:b.writable)return a;var c=a.stack;b=Error(a.message);for(var d in a)b[d]=a[d];b.stack=c;return b}function G(a){for(var b=null,c="",d=m(arguments),e=d.next();!e.done;e=d.next())e=e.value,e instanceof Error&&!b?b=F(e):(c&&(c+=" "),c+=e);b?c&&(b.message=c+": "+b.message):b=Error(c);return b}var pa=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function H(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}}function I(a){var b=Object.create(null);if(!a)return b;for(var c;c=pa.exec(a);){var d=H(c[1],c[1]);c=c[2]?H(c[2].replace(/\+/g," "),c[2]):"";b[d]=c}return b}var J="";function K(a){var b=a||self;if(b.__AMP_MODE)b=b.__AMP_MODE;else{var c=I(b.location.originalHash||b.location.hash);J||(J=b.AMP_CONFIG&&b.AMP_CONFIG.v?b.AMP_CONFIG.v:"012106040012000");var d=I(b.location.originalHash||b.location.hash);d=!(!["1","actions","amp","amp4ads","amp4email"].includes(d.development)&&!b.AMP_DEV_MODE);b=b.__AMP_MODE={localDev:!1,development:d,examiner:"2"==c.development,esm:!1,geoOverride:c["amp-geo"],minified:!0,test:!1,log:c.log,version:"2106040012000",rtvVersion:J}}return b}function qa(a){var b=!1,c=null,d=a;return function(e){for(var f=[],g=0;g<arguments.length;++g)f[g-0]=arguments[g];b||(c=d.apply(self,f),b=!0,d=null);return c}}var L=self.AMP_CONFIG||{},M=("string"==typeof L.cdnProxyRegex?new RegExp(L.cdnProxyRegex):L.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function N(a){if(!self.document||!self.document.head||self.location&&M.test(self.location.origin))return null;var b=self.document.head.querySelector('meta[name="'+a+'"]');return b&&b.getAttribute("content")||null}var ra={thirdParty:L.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:L.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof L.thirdPartyFrameRegex?new RegExp(L.thirdPartyFrameRegex):L.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:L.cdnUrl||N("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:M,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:L.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:L.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:L.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:L.geoApiUrl||N("amp-geo-api")};function sa(){}function ta(a,b){return b.reduce((function(c,d){return c+"&s[]="+encodeURIComponent(String(D(d)))}),"https://log.amp.dev/?v=012106040012000&id="+encodeURIComponent(a))}function R(a,b,c){var d=this,e=c=void 0===c?"":c;this.win=a;this.N=b;this.K=this.win.console&&this.win.console.log&&"0"!=K().log?this.N(parseInt(K().log,10),K().development):0;this.D=e;this.F=null;this.M=qa((function(){a.fetch(ra.cdn+"/rtv/012106040012000/log-messages.simple.json").then((function(f){return f.json()}),sa).then((function(f){f&&(d.F=f)}))}));this.B=this.assert.bind(this)}function S(a,b,c,d){if(a.K<c)return!1;var e=a.win.console.log;1==c?e=a.win.console.error||e:3==c?e=a.win.console.info||e:2==c&&(e=a.win.console.warn||e);c=C(d[0])?T(a,d[0]):d;b="["+b+"]";"string"===typeof c[0]?c[0]=b+" "+c[0]:c.unshift(b);e.apply(a.win.console,c);return!0}h=R.prototype;h.isEnabled=function(){return 0!=this.K};h.fine=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];S(this,a,4,c)};h.info=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];S(this,a,3,c)};h.warn=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];S(this,a,2,c)};h.J=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];if(!S(this,a,1,c))return this.createError.apply(this,c)};h.error=function(a,b){var c=this.J.apply(this,arguments);c&&(c.name=a||c.name,self.__AMP_REPORT_ERROR(c))};h.expectedError=function(a,b){var c=this.J.apply(this,arguments);c&&(c.expected=!0,self.__AMP_REPORT_ERROR(c))};h.createError=function(a){var b=G.apply(null,arguments);U(this,b);return b};h.createExpectedError=function(a){var b=G.apply(null,arguments);U(this,b);b.expected=!0;return b};h.assert=function(a,b,c){return C(b)?this.assert.apply(this,[a].concat(T(this,b))):oa.apply(null,[this.D].concat(Array.prototype.slice.call(arguments)))};h.assertElement=function(a,b){return E(this.B,a,1==(null==a?void 0:a.nodeType),"Element expected",b)};h.assertString=function(a,b){return E(this.B,a,"string"==typeof a,"String expected",b)};h.assertNumber=function(a,b){return E(this.B,a,"number"==typeof a,"Number expected",b)};h.assertArray=function(a,b){return E(this.B,a,C(a),"Array expected",b)};h.assertBoolean=function(a,b){return E(this.B,a,!!a===a,"Boolean expected",b)};function U(a,b){b=F(b);a.D?b.message?-1==b.message.indexOf(a.D)&&(b.message+=a.D):b.message=a.D:0<=b.message.indexOf("​​​")&&(b.message=b.message.replace("​​​",""))}function T(a,b){var c=b.shift();K(a.win).development&&a.M();return a.F&&c in a.F?[a.F[c]].concat(b):["More info at "+ta(c,b)]}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var V=self.__AMP_LOG,W=null;function X(){V.user||(V.user=ua());return V.user}function ua(){if(!W)throw Error("failed to call initLogConstructor");return new W(self,(function(a,b){return b||1<=a?4:2}),"​​​")}function wa(){if(V.dev)return V.dev;if(!W)throw Error("failed to call initLogConstructor");return V.dev=new W(self,(function(a){return 3<=a?4:2<=a?3:0}))}var Y;function xa(a,b){var c=ya();a.addEventListener("message",(function(d){try{return b(d)}catch(g){var e,f;null==(f=(e=self).__AMP_REPORT_ERROR)||f.call(e,g);throw g}}),c?void 0:!1)}function ya(){if(void 0!==Y)return Y;Y=!1;try{var a={get capture(){Y=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return Y}function za(a,b){try{return JSON.parse(a)}catch(c){return null==b||b(c),null}}function Aa(a,b){xa(a,b)}function Ba(a){if(!Ca(a))return null;var b=a.indexOf("{");return za(a.substr(b),(function(c){return wa().error("MESSAGING","Failed to parse message: "+a,c)}))}function Ca(a){return"string"==typeof a&&0==a.indexOf("amp-")&&-1!=a.indexOf("{")}function Da(){this.h=null}h=Da.prototype;h.add=function(a){var b=this;this.h||(this.h=[]);this.h.push(a);return function(){b.remove(a)}};h.remove=function(a){if(this.h){var b=this.h;a=b.indexOf(a);-1!=a&&b.splice(a,1)}};h.removeAll=function(){this.h&&(this.h.length=0)};h.fire=function(a){if(this.h)for(var b=m(this.h),c=b.next();!c.done;c=b.next())c=c.value,c(a)};h.getHandlerCount=function(){var a,b;return null!=(b=null==(a=this.h)?void 0:a.length)?b:0};
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */function Ea(a,b){this.A=a;this.P=K().rtvVersion||null;this.j=b||null;this.H=null;this.O=1;this.C=Object.create(null);Fa(this)}h=Ea.prototype;h.getData=function(a,b,c){var d=a+"-result",e=this.O++,f=this.registerCallback(d,(function(k){k.messageId===e&&(f(),c(k.content))})),g={};g.payload=b;g.messageId=e;this.sendMessage(a,g)};h.makeRequest=function(a,b,c){b=this.registerCallback(b,c);this.sendMessage(a);return b};h.requestOnce=function(a,b,c){var d=this.registerCallback(b,(function(e){d();c(e)}));this.sendMessage(a);return d};h.registerCallback=function(a,b){a in this.C||(this.C[a]=new Da);return this.C[a].add(b)};h.sendMessage=function(a,b){var c=this.H,d=b,e=this.P;d=void 0===d?{}:d;d.type=a;d.sentinel=c;a="amp-"+((void 0===e?null:e)||"")+JSON.stringify(d);if(this.j)c=this.j,1==c.postMessage.length?Ga(c,a):c.postMessage(a,"*");else for(var f=0,g=this.A;10>f&&g!=this.A.top;f++)c=g=g.parent,e=a,1==c.postMessage.length?Ga(c,e):c.postMessage(e,"*"),f++};function Ga(a,b){a.postMessage.call(a,b,{targetOrigin:"*",includeUserActivation:!0})}function Fa(a){Aa(a.A,(function(b){if(!a.j||b.source==a.j){var c=Ba(b.data);c&&c.sentinel==a.H&&(c.origin=b.origin,a.j||(a.j=b.source),b=c.type,b in a.C&&a.C[b].fire(c))}}))}h.setSentinel=function(a){this.H=a};function Ha(){var a=window,b=this;this.A=a;this.I={};var c=za(this.A.name);this.R=c.type;this.o=new Ea(a,a.parent);this.o.setSentinel(c.sentinel);this.o.makeRequest("send-iframe-transport-events","iframe-transport-events",(function(d){d.events.forEach((function(e){try{var f=e.creativeId;(b.I[f]||(b.I[f]=new Z(b.A,b.o,f,b.R))).dispatch(e.message)}catch(g){X().error("iframe-transport-client","Exception in callback passed to onAnalyticsEvent",g)}}))}))}Ha.prototype.getIframeMessagingClient=function(){return this.o};function Z(a,b,c,d){this.o=b;this.L={creativeId:c,vendor:d};this.G=null;c=a.onNewContextInstance&&"function"==typeof a.onNewContextInstance;var e="Must implement onNewContextInstance in "+a.location.href;X().assert(c,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);a.onNewContextInstance(this)}Z.prototype.onAnalyticsEvent=function(a){this.G=a};Z.prototype.dispatch=function(a){this.G&&this.G(a)};Z.prototype.sendResponseToCreative=function(a){this.o.sendMessage("iframe-transport-response",Object.assign({},{message:a},this.L))};(function(){W=R;wa();X()})();(function(a){self.__AMP_REPORT_ERROR=a})((function(){}));try{new Ha}catch(a){}})();//# sourceMappingURL=iframe-transport-client-v0.js.map