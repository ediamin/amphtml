(self.AMP=self.AMP||[]).push({n:"amp-byside-content",ev:"0.1",l:true,v:"2106040012000",m:0,f:function(AMP,_){"use strict";var m="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function n(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object")})()}n(this);"function"===typeof Symbol&&Symbol("x");var r;if("function"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var t;a:{var u={a:!0},v={};try{v.__proto__=u;t=v.a;break a}catch(a){}t=!1}r=t?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var w=r;var x=Array.isArray;function y(a){return a||{}}function z(a,b){function c(){d=0;var g=100-(a.Date.now()-e);if(0<g)d=a.setTimeout(c,g);else{var h=f;f=null;b.apply(null,h)}}var d=0,e=0,f=null;return function(g){for(var h=[],k=0;k<arguments.length;++k)h[k-0]=arguments[k];e=a.Date.now();f=h;d||(d=a.setTimeout(c,100))}}var A=self.AMP_CONFIG||{},B=("string"==typeof A.cdnProxyRegex?new RegExp(A.cdnProxyRegex):A.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function C(a){if(self.document&&self.document.head&&(!self.location||!B.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}A.cdnUrl||C("runtime-host");A.geoApiUrl||C("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var D=self.__AMP_LOG;function E(){if(!D.user)throw Error("failed to call initLogConstructor");return D.user}function F(){if(D.dev)return D.dev;throw Error("failed to call initLogConstructor")}function G(a,b,c,d,e){return E().assert(a,b,c,d,e,void 0,void 0,void 0,void 0,void 0,void 0)}function H(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return I(a,b)}function J(a){return a.nodeType?H((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function I(a,b){K(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function K(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function aa(a){a.parentElement&&a.parentElement.removeChild(a)}function L(a,b){a=a.createElement("div");for(var c in b)a.setAttribute(c,b[c]);return a}function M(){this.O=100;this.C=this.F=0;this.j=Object.create(null)}M.prototype.has=function(a){return!!this.j[a]};M.prototype.get=function(a){var b=this.j[a];if(b)return b.access=++this.C,b.payload};M.prototype.put=function(a,b){this.has(a)||this.F++;this.j[a]={payload:b,access:this.C};if(!(this.F<=this.O)){a=this.j;var d,c=this.C+1;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.F--)}};y({c:!0,v:!0,a:!0,ad:!0});var N,O;function P(a){N||(N=self.document.createElement("a"),O=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new M));var b=O,c=N;if(b&&b.has(a))a=b.get(a);else{c.href=a;c.protocol||(c.href=c.href);var d={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;d.origin=c.origin&&"null"!=c.origin?c.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;b&&b.put(a,d);a=d}return a}var Q,R="Webkit webkit Moz moz ms O o".split(" ");function S(a,b){for(var c in b){var d=a,e=b[c];var f=d.style;var g=c;if(g.startsWith("--"))f=g;else{Q||(Q=Object.create(null));var h=Q[g];if(!h){h=g;if(void 0===f[g]){var k=g;k=k.charAt(0).toUpperCase()+k.slice(1);b:{for(var l=0;l<R.length;l++){var p=R[l]+k;if(void 0!==f[p]){k=p;break b}}k=""}void 0!==f[k]&&(h=k)}Q[g]=h}f=h}f&&(f.startsWith("--")?d.style.setProperty(f,e):d.style[f]=e)}}function T(a,b){try{return JSON.parse(a)}catch(c){return null==b||b(c),null}}function ba(a){if(!U(a))return null;var b=a.indexOf("{");return T(a.substr(b),(function(c){return F().error("MESSAGING","Failed to parse message: "+a,c)}))}function U(a){return"string"==typeof a&&0==a.indexOf("amp-")&&-1!=a.indexOf("{")}function V(a,b,c){var d=a.listeningFors;!d&&c&&(d=a.listeningFors=Object.create(null));a=d||null;if(!a)return a;var e=a[b];!e&&c&&(e=a[b]=[]);return e||null}function ca(a,b){a=V(a,"amp",!0);for(var c,d=0;d<a.length;d++){var e=a[d];if(e.frame===b){c=e;break}}c||(c={frame:b,events:Object.create(null)},a.push(c));return c.events}function da(a){for(var b=y({sentinel:"unlisten"}),c=a.length-1;0<=c;c--){var d=a[c];if(!d.frame.contentWindow){a.splice(c,1);var f,e=d.events;for(f in e)e[f].splice(0,1/0).forEach((function(g){g(b)}))}}}function ea(a){a.listeningFors||a.addEventListener("message",(function(b){if(b.data){var c=fa(b.data);if(c&&c.sentinel){var d=b.source;var e=V(a,c.sentinel);if(e){for(var f,g=0;g<e.length;g++){var h=e[g],k=h.frame.contentWindow;if(k){var l;if(!(l=d==k))b:{for(l=d;l&&l!=l.parent;l=l.parent)if(l==k){l=!0;break b}l=!1}if(l){f=h;break}}else setTimeout(da,0,e)}d=f?f.events:null}else d=e;var p=d;if(p){var q=p[c.type];if(q)for(q=q.slice(),d=0;d<q.length;d++)(0,q[d])(c,b.source,b.origin,b)}}}}))}function ha(a,b){function c(h,k,l,p){if("amp"==h.sentinel){if(k!=a.contentWindow)return;var q="null"==l&&void 0;if(e!=l&&!q)return}k==a.contentWindow&&("unlisten"==h.sentinel?g():b(h,k,l,p))}var d=a.ownerDocument.defaultView;ea(d);d=ca(d,a);var g,e=P(a.src).origin,f=d["embed-size"]||(d["embed-size"]=[]);f.push(c);return g=function(){if(c){var h=f.indexOf(c);-1<h&&f.splice(h,1);b=f=c=null}}}function fa(a){"string"==typeof a&&(a="{"==a.charAt(0)?T(a,(function(b){F().warn("IFRAME-HELPER","Postmessage could not be parsed. Is it in a valid JSON format?",b)}))||null:U(a)?ba(a):null);return a}var ia=0;function W(a){var b=AMP.BaseElement.call(this,a)||this;b.G=[];b.L=null;b.h=null;b.K=null;b.H="main";b.B="";b.J="";b.M="";b.D="";b.o="";b.A="";b.I="";b.N=z(b.win,(function(c){ja(b,c)}));return b}var X=AMP.BaseElement;W.prototype=m(X.prototype);W.prototype.constructor=W;if(w)w(W,X);else for(var Y in X)if("prototype"!=Y)if(Object.defineProperties){var Z=Object.getOwnPropertyDescriptor(X,Y);Z&&Object.defineProperty(W,Y,Z)}else W[Y]=X[Y];W.P=X.prototype;W.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};W.prototype.preconnectCallback=function(a){this.A&&H(this.win,"preconnect").url(this.getAmpDoc(),this.A,a)};W.prototype.buildCallback=function(){this.B=G(this.element.getAttribute("data-webcare-id"),"The data-webcare-id attribute is required for <%s> %s","amp-byside-content",this.element);this.o=G(this.element.getAttribute("data-label"),"The data-label attribute is required for <%s> %s","amp-byside-content",this.element);this.H=this.element.getAttribute("data-webcare-zone")||"main";this.J=this.element.getAttribute("data-channel")||"";this.M=this.element.getAttribute("data-lang")||"pt";this.D=this.element.getAttribute("data-fid")||"";this.A="https://"+encodeURIComponent("main"===this.H?"webcare":this.H)+".byside.com";this.I=this.A+"/BWA"+encodeURIComponent(this.B)+"/amp/"};W.prototype.createPlaceholderCallback=function(){var a=this.win.document.createElement("div");a.setAttribute("placeholder","");var b=a.appendChild,c=this.element.ownerDocument,d=L(c,y({"class":"i-amphtml-byside-content-loading-container"}));c=L(c,y({"class":"i-amphtml-byside-content-loading-animation"}));d.appendChild(c);b.call(a,d);this.applyFillContent(a);return a};W.prototype.layoutCallback=function(){var a=this,b=this.element.ownerDocument.createElement("iframe");this.h=b;b.name="amp_byside_content_iframe"+ia++;b.setAttribute("title",this.element.getAttribute("title")||"");b.setAttribute("scrolling","no");b.setAttribute("frameborder","0");b.setAttribute("allowtransparency","true");b.setAttribute("allowfullscreen","true");b.setAttribute("sandbox","allow-scripts allow-same-origin allow-popups");S(b,{opacity:0});this.element.appendChild(ka(this));this.applyFillContent(b);return la(this).then((function(c){var d=a.element,e=a.B||"";e+=e&&a.o?": ":"";e+=a.o||"";e="amp-byside-content: "+(e||"<unknown tag>");e=void 0===e?"source":e;G(null!=c,"%s %s must be available",d,e);var f=c;"string"==typeof f&&(f=P(f));var g;(g="https:"==f.protocol||"localhost"==f.hostname||"127.0.0.1"==f.hostname)||(f=f.hostname,g=f.length-10,g=0<=g&&f.indexOf(".localhost",g)==g);G(g||/^(\/\/)/.test(c),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',d,e,c);a.L=c;b.src=a.L;c=ha(b,a.N);a.G.push(c);a.element.appendChild(b);return a.K=a.loadPromise(b)})).then((function(){a.getVsync().mutate((function(){S(b,{opacity:1})}))}))};function la(a){var e,b=a.I+"placeholder.php",c=y({label:a.o,webcare_id:a.B,bwch:a.J||"",lang:a.M||"",fid:a.D||"",bwit:a.D?"I":"A",tuid:"CLIENT_ID(byside_webcare_tuid)",suid:"",puid:"PAGE_VIEW_IDpTIMESTAMP",referrer:"DOCUMENT_REFERRER",page:"SOURCE_URL",amppage:"AMPDOC_URL",bwpt:"TITLE",bres:"VIEWPORT_WIDTHxVIEWPORT_HEIGHT",res:"SCREEN_WIDTHxSCREEN_HEIGHT",v:"v20171116a",ampv:"AMP_VERSION",viewer:"VIEWER",ua:"USER_AGENT",r:"RANDOM",_resize:"1"}),d=[];for(e in c){var f=c[e];if(null!=f)if(x(f))for(var g=0;g<f.length;g++){var h=f[g];d.push(encodeURIComponent(e)+"="+encodeURIComponent(h))}else d.push(encodeURIComponent(e)+"="+encodeURIComponent(f))}c=d.join("&");c&&(b=b.split("#",2),d=b[0].split("?",2),c=d[0]+(d[1]?"?"+d[1]+"&"+c:"?"+c),b=c+=b[1]?"#"+b[1]:"");a=J(a.element);a=J(a);a=a.isSingleDoc()?a.win:a;return(K(a,"url-replace")?I(a,"url-replace"):null).expandUrlAsync(b)}function ka(a){a=a.element.ownerDocument;var b=L(a,y({"class":"i-amphtml-byside-content-overflow",overflow:""})),c=L(a,y({"class":"i-amphtml-byside-content-overflow-content"})),d=L(a,y({"class":"i-amphtml-byside-content-arrow-down"}));c.appendChild(d);b.appendChild(c);return b}function ja(a,b){a.getVsync().measure((function(){var c,d,e=parseInt(b.height,10);isNaN(e)||(c=Math.max(e+(a.element.offsetHeight-a.h.offsetHeight),e));e=parseInt(b.width,10);isNaN(e)||(d=Math.max(e+(a.element.offsetWidth-a.h.offsetWidth),e));void 0!==c||void 0!==d?a.attemptChangeSize(c,d).then((function(){void 0!==c&&a.element.setAttribute("height",c);void 0!==d&&a.element.setAttribute("width",d)}),(function(){})):E().warn("amp-byside-content","Ignoring embed-size request because no width or height value is provided",a.element)}))}W.prototype.unlayoutCallback=function(){this.G.forEach((function(a){return a()}));this.G.length=0;this.h&&(aa(this.h),this.K=this.h=null);return!0};(function(a){a.registerElement("amp-byside-content",W,'.i-amphtml-byside-content-overflow{position:relative;top:100%;width:100%;height:100px;margin-top:-100px;text-align:center;background:linear-gradient(180deg,hsla(0,0%,100%,0) 0%,#fff 75%)}.i-amphtml-byside-content-overflow,.i-amphtml-byside-content-overflow .i-amphtml-byside-content-overflow-content{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}.i-amphtml-byside-content-overflow .i-amphtml-byside-content-overflow-content{width:100px;height:30px;border-radius:15px;background-color:#093c71;border:1px solid #093c71;color:#fff}.i-amphtml-byside-content-arrow-down{width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-top:10px solid #fff}.i-amphtml-byside-content-loading-container{background-color:rgba(0,0,0,0.02);display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:absolute!important;top:0!important;left:0!important;right:0!important;bottom:0!important}.i-amphtml-byside-content-loading-container .i-amphtml-byside-content-loading-animation{display:block;text-align:center;position:relative;height:16px;width:40px;margin:4px auto;background:transparent}.i-amphtml-byside-content-loading-container .i-amphtml-byside-content-loading-animation:after,.i-amphtml-byside-content-loading-container .i-amphtml-byside-content-loading-animation:before{content:"";position:absolute;top:0;left:0;z-index:9;width:16px;height:16px;border-radius:50%;opacity:0.95;animation-name:i-amphtml-byside-content-loading-translate,i-amphtml-byside-content-loading-zindex;animation-delay:0;animation-duration:0.8s;animation-direction:alternate;animation-timing-function:linear;animation-iteration-count:infinite}.i-amphtml-byside-content-loading-container .i-amphtml-byside-content-loading-animation:before{background:#093c71}.i-amphtml-byside-content-loading-container .i-amphtml-byside-content-loading-animation:after{background:#e75204;z-index:0;animation-name:i-amphtml-byside-content-loading-translate-inverse,i-amphtml-byside-content-loading-zindex-inverse;animation-delay:0s,0.6s}@keyframes i-amphtml-byside-content-loading-translate{0%{transform:translate(-12px)}to{transform:translate(12px)}}@keyframes i-amphtml-byside-content-loading-zindex{0%{z-index:9}to{z-index:0}}@keyframes i-amphtml-byside-content-loading-translate-inverse{0%{transform:translate(12px)}to{transform:translate(-12px)}}@keyframes i-amphtml-byside-content-loading-zindex-inverse{0%{z-index:0}to{z-index:9}}\n/*# sourceURL=/extensions/amp-byside-content/0.1/amp-byside-content.css*/')})(self.AMP)}});//# sourceMappingURL=amp-byside-content-0.1.js.map