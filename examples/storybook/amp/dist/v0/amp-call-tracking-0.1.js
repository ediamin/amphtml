(self.AMP=self.AMP||[]).push({n:"amp-call-tracking",ev:"0.1",l:true,v:"2106040012000",m:0,f:function(AMP,_){"use strict";var h="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function k(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],f=0;f<b.length;++f){var c=b[f];if(c&&c.Math==Math)return}(function(){throw Error("Cannot find global object")})()}k(this);"function"===typeof Symbol&&Symbol("x");var l;if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var m;a:{var n={a:!0},p={};try{p.__proto__=n;m=p.a;break a}catch(a){}m=!1}l=m?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var q=l;var r=self.AMP_CONFIG||{},t=("string"==typeof r.cdnProxyRegex?new RegExp(r.cdnProxyRegex):r.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function u(a){if(self.document&&self.document.head&&(!self.location||!t.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}r.cdnUrl||u("runtime-host");r.geoApiUrl||u("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var v=self.__AMP_LOG;function w(){if(!v.user)throw Error("failed to call initLogConstructor");return v.user}function x(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return y(a,b)}function z(a){a=A(a);a=A(a);a=a.isSingleDoc()?a.win:a;return B(a,"url-replace")?y(a,"url-replace"):null}function A(a){return a.nodeType?x((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function y(a,b){B(a,b);var f=a.__AMP_SERVICES;f||(f=a.__AMP_SERVICES={});a=f[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function B(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function C(){this.C=100;this.j=this.A=0;this.h=Object.create(null)}C.prototype.has=function(a){return!!this.h[a]};C.prototype.get=function(a){var b=this.h[a];if(b)return b.access=++this.j,b.payload};C.prototype.put=function(a,b){this.has(a)||this.A++;this.h[a]={payload:b,access:this.j};if(!(this.A<=this.C)){a=this.h;var c,f=this.j+1;for(c in a){var g=a[c].access;if(g<f){f=g;var d=c}}void 0!==d&&(delete a[d],this.A--)}};(function(a){return a||{}})({c:!0,v:!0,a:!0,ad:!0});var D,E;var F={};function G(a,b){b in F||(F[b]=x(a,"xhr").fetchJson(b,{credentials:"include"}).then((function(f){return f.json()})));return F[b]}function H(a){a=AMP.BaseElement.call(this,a)||this;a.o=null;a.B=null;return a}var I=AMP.BaseElement;H.prototype=h(I.prototype);H.prototype.constructor=H;if(q)q(H,I);else for(var J in I)if("prototype"!=J)if(Object.defineProperties){var K=Object.getOwnPropertyDescriptor(I,J);K&&Object.defineProperty(H,J,K)}else H[J]=I[J];H.D=I.prototype;H.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a||"container"==a};H.prototype.buildCallback=function(){var a=this.element.getAttribute("config"),b=this.element;var f=void 0===f?"source":f;var c=null!=a;w().assert(c,"%s %s must be available",b,f,void 0,void 0,void 0,void 0,void 0,void 0,void 0);c=a;if("string"==typeof c){D||(D=self.document.createElement("a"),E=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new C));var g=E,d=D;if(g&&g.has(c))c=g.get(c);else{d.href=c;d.protocol||(d.href=d.href);var e={href:d.href,protocol:d.protocol,host:d.host,hostname:d.hostname,port:"0"==d.port?"":d.port,pathname:d.pathname,search:d.search,hash:d.hash,origin:null};"/"!==e.pathname[0]&&(e.pathname="/"+e.pathname);if("http:"==e.protocol&&80==e.port||"https:"==e.protocol&&443==e.port)e.port="",e.host=e.hostname;e.origin=d.origin&&"null"!=d.origin?d.origin:"data:"!=e.protocol&&e.host?e.protocol+"//"+e.host:e.href;g&&g.put(c,e);c=e}}(g="https:"==c.protocol||"localhost"==c.hostname||"127.0.0.1"==c.hostname)||(c=c.hostname,g=c.length-10,g=0<=g&&c.indexOf(".localhost",g)==g);c=g||/^(\/\/)/.test(a);w().assert(c,'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,f,a,void 0,void 0,void 0,void 0,void 0,void 0);this.B=a;this.o=this.element.firstElementChild};H.prototype.layoutCallback=function(){var a=this;return z(this.element).expandUrlAsync(w().assertString(this.B)).then((function(b){return G(a.win,b)})).then((function(b){b.phoneNumber?(a.o.setAttribute("href","tel:"+b.phoneNumber),a.o.textContent=b.formattedPhoneNumber||b.phoneNumber):w().warn("amp-call-tracking","Response does not contain a phoneNumber field %s. Call tracking was not applied.",a.element)}))};(function(a){a.registerElement("amp-call-tracking",H)})(self.AMP)}});//# sourceMappingURL=amp-call-tracking-0.1.js.map