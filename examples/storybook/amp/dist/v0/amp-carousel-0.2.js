(self.AMP=self.AMP||[]).push({n:"amp-carousel",ev:"0.2",l:false,v:"2106040012000",m:0,f:function(AMP,_){"use strict";var h,aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ba(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object")})()}ba(this);"function"===typeof Symbol&&Symbol("x");var p;if("function"==typeof Object.setPrototypeOf)p=Object.setPrototypeOf;else{var q;a:{var ca={a:!0},da={};try{da.__proto__=ca;q=da.a;break a}catch(a){}q=!1}p=q?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var r,ea=p;function fa(){return r?r:r=Promise.resolve(void 0)}function ha(){var a=this;this.promise=new Promise((function(b,c){a.resolve=b;a.reject=c}))}function t(a){return a||{}}function u(a,b){return 0<a&&0<b?a%b:(a%b+b)%b}function ia(a,b){return Math.min(Math.max(a,0),b)}function ja(a,b,c){function d(){e=0;var k=c-(a.Date.now()-f);if(0<k)e=a.setTimeout(d,k);else{var m=g;g=null;b.apply(null,m)}}var e=0,f=0,g=null;return function(k){for(var m=[],l=0;l<arguments.length;++l)m[l-0]=arguments[l];f=a.Date.now();g=m;e||(e=a.setTimeout(d,c))}}var v=self.AMP_CONFIG||{},ka=("string"==typeof v.cdnProxyRegex?new RegExp(v.cdnProxyRegex):v.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function la(a){if(self.document&&self.document.head&&(!self.location||!ka.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}v.cdnUrl||la("runtime-host");v.geoApiUrl||la("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var w=self.__AMP_LOG;var x,ma="Webkit webkit Moz moz ms O o".split(" "),na={getPropertyPriority:function(){return""},getPropertyValue:function(){return""}};function A(a,b,c){if(b.startsWith("--"))return b;x||(x=Object.create(null));var d=x[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<ma.length;f++){var g=ma[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var k=e;void 0!==a[k]&&(d=k)}c||(x[b]=d)}return d}function oa(a,b){a=a.style;for(var c in b)a.setProperty(A(a,c),String(b[c]),"important")}function B(a,b,c){(b=A(a.style,b,void 0))&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}function C(a,b){var c=b.getBoundingClientRect();b=c.bottom;var d=c.height,e=c.left,f=c.right,g=c.top;c=c.width;return{start:0==a?e:g,end:0==a?f:b,length:0==a?c:d}}function D(a,b){a=C(a,b);return(a.start+a.end)/2}function E(a,b,c){return"start"==b?C(a,c).start:D(a,c)}function F(a,b,c){0==a?B(b,"width",c+"px"):B(b,"height",c+"px")}function G(a,b,c){a=C(a,b);b=a.end;return a.start<=c&&c<b}function pa(a,b,c,d){var e=E(a,b,d),f=E(a,b,c),g=C(a,d).length;return(e-f)/g}function qa(a,b,c,d,e){var f=E(a,b,c);if(G(a,d[e],f))return e;for(b=1;b<=d.length/2;b++){var g=u(e+b,d.length),k=u(e-b,d.length);if(G(a,d[g],f))return g;if(G(a,d[k],f))return k}}var H;function ra(a,b,c,d){function e(l){try{return g(l)}catch(y){var n,z;null==(z=(n=self).__AMP_REPORT_ERROR)||z.call(n,y);throw y}}var f=a,g=c,k=sa(),m=!(null==d||!d.capture);f.addEventListener(b,e,k?d:m);return function(){var l;null==(l=f)||l.removeEventListener(b,e,k?d:m);e=f=g=null}}function sa(){if(void 0!==H)return H;H=!1;try{var a={get capture(){H=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return H}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function ta(a,b){for(;a&&void 0!==a;a=a.parentElement)if(b(a))return a;return null}function ua(a){return a.closest?a.closest("[i-amphtml-scale-animation]"):ta(a,(function(b){var c=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector||b.oMatchesSelector;return c?c.call(b,"[i-amphtml-scale-animation]"):!1}))}function I(a,b,c,d){var e={detail:c};Object.assign(e,d);if("function"==typeof a.CustomEvent)return new a.CustomEvent(b,e);a=a.document.createEvent("CustomEvent");a.initCustomEvent(b,!!e.bubbles,!!e.cancelable,c);return a}function J(a,b,c,d){ra(a,b,c,d)}function va(a){var b=a,c=ra(window,"touchend",(function(d){try{b(d)}finally{b=null,c()}}),{capture:!0,passive:!0})}function wa(a){var b=this,c=a.advanceable,d=a.element,e=a.scrollContainer;this.P=a.win;this.h=e;this.Na=c;this.ha=0;this.D=!1;this.ia=1;this.ja=1e3;this.La=this.va=!1;this.ma=null;this.Ha=Number.POSITIVE_INFINITY;this.Oa=d.getAmpDoc();xa(this,this.ja);this.h.addEventListener("scroll",(function(){return b.oa()}),!0);J(this.h,"touchstart",(function(){return b.pa()}),{capture:!0,passive:!0});J(d,"amp-carousel:indexchange",(function(f){(f=f.detail.actionSource)&&4!==f&&b.stop()}))}h=wa.prototype;h.stop=function(){this.La=!0};h.pause=function(){this.va=!0};h.resume=function(){this.va=!1;K(this)};h.updateAutoAdvance=function(a){this.D=a;K(this)};h.updateAutoAdvanceCount=function(a){this.ia=a;K(this)};h.updateAutoAdvanceInterval=function(a){this.ja=Math.max(a,1e3);xa(this,this.ja);K(this)};h.updateMaxAdvances=function(a){this.Ha=a};function xa(a,b){var c=ja(a.P,(function(){c==a.ma&&ya(a)&&(a.Na.advance(a.ia,{actionSource:4,allowWrap:!0}),a.ha+=a.ia)}),b);a.ma=c}h.pa=function(){var a=this;this.pause();va((function(){a.resume()}))};function ya(a){return a.D&&a.Oa.isVisible()&&!a.va&&!a.La&&a.ha<a.Ha}h.oa=function(){K(this)};function K(a){ya(a)&&a.ma()}function za(a){var b=this,c=a.element,d=a.runMutate,e=a.scrollContainer,f=a.stoppable;this.P=a.win;this.h=e;this.N=d;this.j=[];this.C=1;this.O=this.T=!1;this.Ea=0;c.addEventListener("focus",(function(){f.stop()}),!0);c.addEventListener("amp-carousel:indexchange",(function(g){b.ta(g)}))}h=za.prototype;h.updateMixedLength=function(a){this.T=a};h.updateUi=function(){var a=this;this.O||(this.O=!0,this.N((function(){a.O=!1;Aa(a);Ba(a)})))};h.updateSlides=function(a){this.j=a;this.updateUi()};h.updateVisibleCount=function(a){this.C=a;this.updateUi()};function Aa(a){a.T||2<=a.C?(a.h.removeAttribute("aria-live"),a.h.setAttribute("role","list"),a.j.forEach((function(b){b.setAttribute("role","listitem")}))):(a.h.setAttribute("aria-live","polite"),a.h.removeAttribute("role"),a.j.forEach((function(b){b.removeAttribute("role")})))}function Ba(a){a.j.forEach((function(b,c){b.setAttribute("aria-hidden",!(a.T||2<=a.C)&&c!==a.Ea)}))}h.ta=function(a){var b=this;this.Ea=a.detail.index;this.N((function(){Ba(b)}))};var Ca={bubbles:!0,cancelable:!0};function Da(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)}function Ea(a,b){var c=(c=A(a.style,"scrollBehavior",void 0))?c.startsWith("--")?a.style.getPropertyValue(c):a.style[c]:void 0;B(a,"scrollBehavior","auto");b();B(a,"scrollBehavior",c)}function L(a){return a.reduce((function(b,c){return b+c}),0)}function Fa(a){var b=this,c=a.element,d=a.initialIndex,e=a.runMutate,f=a.scrollContainer;this.P=a=a.win;this.N=e;this.W=c;this.h=f;this.D=new wa({win:a,element:c,scrollContainer:f,advanceable:this});this.la=new za({win:a,element:c,scrollContainer:f,runMutate:e,stoppable:this.D});this.Ca=ja(a,(function(){return M(b)}),200);this.ga=1;this.Ba=Number.POSITIVE_INFINITY;this.T=!1;this.j=[];this.Ma=!0;this.O=!1;this.V=[];this.ca=[];this.U=[];this.Aa=[];this.S=this.sa=!1;this.Z=0;this.F=null;this.da=NaN;this.wa=this.ea=!1;this.L=void 0;this.G="start";this.H=0;this.Da=this.M=!0;this.A=d||0;this.Ga=!1;this.Ka=!0;this.C=this.Ja=1;this.h.addEventListener("scroll",(function(){return b.oa()}),!0);this.h.addEventListener("scrollend",(function(){null===b.F&&M(b)}),!0);J(this.h,"touchstart",(function(){return b.pa()}),{capture:!0,passive:!0});J(this.h,"wheel",(function(){b.L=2;b.F=null;b.S=!1}),{capture:!0,passive:!0})}h=Fa.prototype;h.next=function(a){this.advance(this.ga,{actionSource:a})};h.prev=function(a){this.advance(-this.ga,{actionSource:a})};h.advance=function(a,b){b=void 0===b?{}:b;var c=this.A,d=this.F,e=b;b=e.actionSource;var f=void 0===e.allowWrap?!1:e.allowWrap;c=null!==d?d:c;var g=c+a,k=this.j.length-1,m=0===c,l=c===k,n=0>g,z=g>k,y=0<a&&Ga(this,c)&&Ga(this,g);var $a=this.isLooping()?u(g,k+1):f?y?0:n&&m||z&&!l?k:n&&!m||z&&l?0:g:y?c:ia(g,k);this.goToSlide($a,{actionSource:b})};h.pauseLayout=function(){this.sa=!0;this.D.pause()};h.resumeLayout=function(){this.sa=!1;this.updateUi();this.D.resume()};h.getCurrentIndex=function(){return this.A};h.getVisibleCount=function(){return this.C};h.isLooping=function(){return this.Ga&&3<=this.j.length/this.C};h.goToSlide=function(a,b){b=void 0===b?{}:b;var c=b.actionSource,d=void 0===b.smoothScroll?!0:b.smoothScroll;0>a||a>this.j.length-1||isNaN(a)||a===this.A||this.ea||this.wa&&(3===this.L||2===this.L)||(this.S=!1,this.F=a,this.L=c,Ha(this,this.j[a],{smoothScroll:d}))};h.updateAdvanceCount=function(a){this.ga=a};h.updateAlignment=function(a){this.G="start"===a?"start":"center";this.updateUi()};h.updateAutoAdvance=function(a){this.D.updateAutoAdvance(a)};h.updateAutoAdvanceCount=function(a){this.D.updateAutoAdvanceCount(a)};h.updateAutoAdvanceInterval=function(a){this.D.updateAutoAdvanceInterval(a)};h.updateAutoAdvanceLoops=function(a){this.Ba=a;this.updateUi()};h.updateForwards=function(a){this.M=a;this.updateUi()};h.updateHideScrollbar=function(a){this.Da=a;this.updateUi()};h.updateHorizontal=function(a){this.H=a?0:1;this.updateUi()};h.updateLoop=function(a){this.Ga=a;this.updateUi()};h.updateMixedLength=function(a){this.T=a;this.la.updateMixedLength(a);this.updateUi()};h.updateSlides=function(a){var b=a.length;if(b)this.j=a,this.A=this.isLooping()?u(this.A,b):ia(this.A,b-1)||0,this.la.updateSlides(a),this.updateUi();else{var c=this.W.tagName.toUpperCase();if(w.dev)a=w.dev;else throw Error("failed to call initLogConstructor");a.warn(c,"No slides were found.")}};h.updateSnap=function(a){this.Ka=a;this.updateUi()};h.updateSnapBy=function(a){this.Ja=Math.max(1,a);this.updateUi()};h.updateUserScrollable=function(a){this.Ma=a;this.updateUi()};h.updateUi=function(){var a=this;this.O||this.sa||(this.O=!0,this.N((function(){a.O=!1;a.h.setAttribute("mixed-length",a.T);a.h.setAttribute("user-scrollable",a.Ma);a.h.setAttribute("hide-scrollbar",a.Da);a.h.setAttribute("horizontal",0===a.H);a.h.setAttribute("loop",a.isLooping());a.h.setAttribute("snap",a.Ka);oa(a.h,{"--visible-count":a.C});a.j.length&&(a.D.updateMaxAdvances(a.Ba*a.j.length-1),Ia(a),Ja(a),Ka(a),M(a,!0))})))};h.updateVisibleCount=function(a){this.C=Math.max(1,a);this.la.updateVisibleCount(a);this.updateUi()};function La(a,b,c){a.A=b;a.Z=c;a.W.dispatchEvent(I(a.P,"amp-carousel:offsetchange",t({index:b,total:a.j.length,offset:a.M?-c:c,slides:a.j}),{bubbles:!0}))}h.notifyScrollStart=function(){this.W.dispatchEvent(I(this.P,"amp-carousel:scrollstart",null))};h.pa=function(){var a=this;this.ea=!0;this.L=3;this.F=null;this.S=!1;va((function(){a.ea=!1;a.Ca()}))};h.oa=function(){this.S?this.S=!1:(this.wa=!0,Ma(this),this.notifyScrollStart(),this.Ca())};function N(a,b,c,d){var e=a.H,f=c*d*(a.M?1:-1);a=0==e?f:0;e=0==e?0:f;B(b,"transform","translate("+a+"px, "+e+"px)");oa(b,{"--content-transform":"translate("+a+"px, "+e+"px)"});b._revolutions=c}function Na(a,b){a.j.forEach((function(c){N(a,c,0,b)}))}function O(a){return a.j.map((function(b){return C(a.H,b).length}))}h.isAtEnd=function(){if(this.isLooping())var a=!1;else{a=this.h;var b=a.getBoundingClientRect().width*(this.M?1:-1);b=a.scrollLeft+(this.M?Math.ceil(b):Math.floor(b));a=a.scrollWidth;a=this.M?b>=a:b<=-a}return a};h.isAtStart=function(){if(this.isLooping())var a=!1;else a=this.h.scrollLeft,a=this.M?0>=a:0<=a;return a};function Oa(a){for(var b=[],c=0;c<a;c++){var d=document.createElement("div");d.className="i-amphtml-carousel-spacer";b.push(d)}return b}function Ia(a){var b=a.H,c=a.j,d=O(a),e=L(d),f=a.isLooping()?c.length:0;a.V.forEach((function(g){a.h.removeChild(g)}));a.V=Oa(f);a.V.forEach((function(g,k){F(b,g,d[k]);a.h.insertBefore(g,c[0])}));a.ca.forEach((function(g){a.h.removeChild(g)}));a.ca=Oa(f);a.ca.forEach((function(g,k){F(b,g,d[k]);N(a,g,-1,e);a.h.appendChild(g)}));a.U.forEach((function(g){a.h.removeChild(g)}));a.U=Oa(f);a.U.forEach((function(g,k){F(b,g,d[k]);N(a,g,-1,e);a.h.appendChild(g)}));a.Aa=a.V.concat(a.ca,a.U)}function Ja(a){var b=a.j.length,c="start"===a.G,d=1===u(a.C,2),e=c||d?"0%":"50%";Da(a.h.children,(function(f,g){g=u(g,b);var k=0===u(g,a.Ja);if(f.classList.contains("i-amphtml-carousel-spacer")||!a.isLooping()){g={"scroll-snap-align":k?a.G:"none","scroll-snap-coordinate":k?e:"none"};for(var m in g)B(f,m,g[m])}}))}function Ka(a){var b=a.U,c=a.V,d=a.A,e=a.j,f=Math.max(0,e.length-d-1),g=Math.max(0,d-1);c.forEach((function(k,m){var l=c.length;l=d===m?l:u(d-m,l);k.hidden=l>e.length-1||m<e.length-f}));b.forEach((function(k,m){var l=b.length;l=d===m?l:u(m-d,l);k.hidden=l>e.length-1||m>g}))}function Ma(a){var b=a.G,c=a.Aa,d=a.H,e=a.A,f=a.h,g=a.j,k=L(O(a)),m=!!c.length,l=m?c:g,n=qa(d,b,f,l,m?e+g.length:e);void 0!==n&&(c=n%g.length,b=pa(d,b,f,l[n]),La(a,c,b),c!==e&&a.N((function(){Pa(a,k)})))}function M(a,b){var c=void 0===b?!1:b,d=a.L;if(!a.ea&&(a.L=void 0,a.wa=!1,a.N((function(){a.W.dispatchEvent(I(a.P,"amp-carousel:scrollpositionchange",null))})),a.da!==a.A||null!==a.F||c)){null!==a.F&&(a.A=a.F,a.F=null,a.Z=0);var e=L(O(a));a.N((function(){var f=a.A;a.da!==f&&(a.da=f,a.W.dispatchEvent(I(a.P,"amp-carousel:indexchange",t({index:f,total:a.j.length,actionSource:d,slides:a.j}),{bubbles:!0})));La(a,a.A,a.Z);Na(a,e);Ka(a);Pa(a,e);Qa(a)}))}}function Qa(a){var b=a.H,c=a.Z,d=a.h,e=a.j[a.A],f=pa(b,a.G,d,e)-c;c=C(b,e).length;var g=f*c;g&&(a.S=!0,Ea(d,(function(){var k=(0==b?d.scrollLeft:d.scrollTop)+g;0==b?d.scrollLeft=k:d.scrollTop=k})))}function Ha(a,b,c){(c.smoothScroll?function(d,e){return e()}:Ea)(a.h,(function(){var d=a.H,e=a.h,f="start"==a.G,g=C(d,b).length,k=f?C(d,b).start:D(d,b);f=f?C(d,e).start:D(d,e);g=(0==d?e.scrollLeft:e.scrollTop)+(k-f-0*g);0==d?e.scrollLeft=g:e.scrollTop=g}))}function Ra(a,b,c,d){for(var e=a.A,f=a.da,g=a.j,k=g[e]._revolutions||0,m=d?1:-1,l=1;l<=c;l++){var n=u(e+l*m,g.length);if(n===f&&e!==f)break;N(a,g[n],n>e!==d?k+m:k,b)}}function Pa(a,b){if(a.isLooping()){var c=a.j,d=a.C,e="start"===a.G?d-1:0,f=(c.length-1+e)/2;Ra(a,b,Math.round((c.length-1-e)/2),!1);Ra(a,b,Math.round(f),!0)}}function Ga(a,b){var c=a.C;return b>=a.j.length-("start"===a.G?c:c/2)}function P(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return Q(a,b)}function Sa(a,b){var c=R(a);c=S(c);return Q(c,b)}function Ta(a){a=R(a);a=S(a);return Ua(a,"action")?Q(a,"action"):null}function R(a){return a.nodeType?P((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function S(a){a=R(a);return a.isSingleDoc()?a.win:a}function Q(a,b){Ua(a,b);a=Va(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Wa(a){var b=Va(a)["amp-analytics-instrumentation"];if(b){if(b.promise)return b.promise;Q(a,"amp-analytics-instrumentation");return b.promise=Promise.resolve(b.obj)}return null}function Va(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function Ua(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}function Xa(){var a=new ha,b=a.promise,c=a.reject;a=a.resolve;b.catch((function(){}));return{obj:null,promise:b,resolve:a,reject:c,context:null,ctor:null}}function Ya(a){var b=Wa(S(a));if(b)return b;var c=R(a);return c.whenExtensionsKnown().then((function(){var d=c.getExtensionVersion("amp-analytics");return d?P(c.win,"extensions").waitForExtension("amp-analytics",d):null})).then((function(d){if(d){var e=S(a);var f=Wa(e);f?e=f:(e=Va(e),e["amp-analytics-instrumentation"]=Xa(),e=e["amp-analytics-instrumentation"].promise)}else e=null;return e}))}function Za(a){var b=a.ampElement,c=a.intersectionElement,d=void 0===a.intersectionThreshold?.01:a.intersectionThreshold,e=void 0===a.nearbyMarginInPercent?100:a.nearbyMarginInPercent,f=void 0===a.viewportIntersectionThreshold?d:a.viewportIntersectionThreshold,g=void 0===a.viewportIntersectionCallback?function(){}:a.viewportIntersectionCallback;this.R=b;this.ua=Sa(b.element,"owners");this.qa=c;this.Fa=d;this.Ia=e;this.Qa=f;this.ya=g;this.ba=!1;this.B=[];this.$=this.Y=this.aa=null;this.X=!1}h=Za.prototype;h.setQueueChanges=function(a){this.ba=a};function T(a,b,c){c?a.ua.scheduleLayout(a.R.element,b):a.ua.scheduleUnlayout(a.R.element,b)}function ab(a){if(!(a.aa&&a.Y&&a.$)){var b=a.R.win;a.aa=new b.IntersectionObserver((function(c){return bb(a,c)}),{root:a.qa,rootMargin:a.Ia+"%",threshold:a.Fa});a.Y=new b.IntersectionObserver((function(c){return cb(a,c)}),{root:a.qa,rootMargin:a.Ia+10+"%",threshold:a.Fa});a.$=new b.IntersectionObserver((function(c){return db(a,c)}),{root:a.qa,rootMargin:"0%",threshold:a.Qa})}}function bb(a,b){b.filter((function(c){return c.isIntersecting})).forEach((function(c){c.target.__AMP_CAROUSEL_NEAR_VIEWPORT=0}));a.ba||eb(a)}function cb(a,b){b.filter((function(c){return!c.isIntersecting})).forEach((function(c){c.target.__AMP_CAROUSEL_NEAR_VIEWPORT=1}));a.ba||fb(a)}function db(a,b){b.forEach((function(c){c.target.__AMP_CAROUSEL_IN_VIEWPORT=c.isIntersecting?0:1}));a.ba||gb(a)}h.flushChanges=function(){eb(this);fb(this);gb(this)};function eb(a){for(var b=0;b<a.B.length;b++){var c=a.B[b];0==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(T(a,c,!0),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function fb(a){for(var b=0;b<a.B.length;b++){var c=a.B[b];1==c.__AMP_CAROUSEL_NEAR_VIEWPORT&&(T(a,c,!1),c.__AMP_CAROUSEL_NEAR_VIEWPORT=null)}}function gb(a){for(var b=0;b<a.B.length;b++){var c=a.B[b];0==c.__AMP_CAROUSEL_IN_VIEWPORT?(T(a,c,!0),a.ya(c,!0)):1==c.__AMP_CAROUSEL_IN_VIEWPORT&&a.ya(c,!1);c.__AMP_CAROUSEL_IN_VIEWPORT=null}}function U(a,b){if("IntersectionObserver"in a.R.win)if(ab(a),b)for(var c=0;c<a.B.length;c++)a.aa.observe(a.B[c]),a.Y.observe(a.B[c]),a.$.observe(a.B[c]);else a.aa.disconnect(),a.Y.disconnect(),a.$.disconnect()}h.updateChildren=function(a){this.B=a;if("IntersectionObserver"in this.R.win){for(a=0;a<this.B.length;a++)this.ua.setOwner(this.B[a],this.R.element);U(this,!1);U(this,this.X)}};h.wasLaidOut=function(){this.X=!0;U(this,this.X)};h.wasUnlaidOut=function(){this.X=!1;U(this,this.X);for(var a=0;a<this.B.length;a++)T(this,this.B[a],!1),this.ya(this.B[a],!1)};var V;function hb(a){a=a.ownerDocument||a;V&&V.ownerDocument===a||(V=a.createElement("div"));return ib}function ib(a){var b=V;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return a}function jb(a,b,c){c=void 0===c?{}:c;var d=void 0===d?!0:d;var e=c;Ya(a).then((function(f){f&&f.triggerEventForTarget(a,b,e,d)}))}var kb=['<div class=i-amphtml-carousel-content><div class=i-amphtml-carousel-scroll></div><div class=i-amphtml-carousel-arrows><div tabindex=0 class="amp-carousel-button amp-carousel-button-prev"></div><div tabindex=0 class="amp-carousel-button amp-carousel-button-next"></div></div></div>'];function W(a){var b=AMP.BaseElement.call(this,a)||this;b.ra=P(b.win,"platform").isIos();b.o=null;b.h=null;b.j=[];b.A=null;b.fa="carousel";b.ka=!1;b.J=null;b.K=null;b.na=!1;b.za=null;b.I=null;b.xa=!1;b.Pa=Sa(a,"viewer").isEmbedded();return b}var X=AMP.BaseElement;W.prototype=aa(X.prototype);W.prototype.constructor=W;if(ea)ea(W,X);else for(var Y in X)if("prototype"!=Y)if(Object.defineProperties){var lb=Object.getOwnPropertyDescriptor(X,Y);lb&&Object.defineProperty(W,Y,lb)}else W[Y]=X[Y];W.Ra=X.prototype;W.prerenderAllowed=function(){return!0};function mb(a){a.registerAction("goToSlide",(function(b){var c=b.args,d=b.trust,e=Number(c.index||0),f=!isNaN(e);c=c.index;var g=a.element;if(!w.user)throw Error("failed to call initLogConstructor");w.user.assert(f,"Unexpected slide index for goToSlide action: %s. %s",c,g,void 0,void 0,void 0,void 0,void 0,void 0,void 0);a.o.goToSlide(e,{actionSource:2<=d?0:1})}),1);a.registerAction("toggleAutoplay",(function(b){b=b.args;nb(a,b?b.toggleOn:void 0)}),1)}h=W.prototype;h.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};h.buildCallback=function(){var a=this;this.za=Ta(this.element);var b=this.element,c=this.win,d=this.getRealChildren();b.appendChild(hb(this.element)(kb));this.h=this.element.querySelector(".i-amphtml-carousel-scroll");this.K=this.element.querySelector(".amp-carousel-button-prev");this.J=this.element.querySelector(".amp-carousel-button-next");this.o=new Fa({win:c,element:b,scrollContainer:this.h,initialIndex:Number(this.element.getAttribute("slide")||"0"),runMutate:function(f){return a.mutateElement(f)}});ob(this,d);mb(this);this.element.addEventListener("amp-carousel:indexchange",(function(f){a.ta(f)}));this.element.addEventListener("amp-carousel:scrollstart",(function(){a.I.setQueueChanges(a.ra)}));this.element.addEventListener("amp-carousel:scrollpositionchange",(function(){a.I.flushChanges();a.I.setQueueChanges(!1);Z(a)}));this.K.addEventListener("click",(function(){return a.interactionPrev()}));this.J.addEventListener("click",(function(){return a.interactionNext()}));pb(this);var e=Sa(b,"owners");this.I=new Za({ampElement:this,intersectionElement:this.h,nearbyMarginInPercent:this.ra?200:100,viewportIntersectionCallback:function(f,g){g?e.scheduleResume(a.element,f):e.schedulePause(a.element,f)}});this.I.setQueueChanges(this.ra);this.I.updateChildren(this.j);this.o.updateSlides(this.j);this.o.goToSlide(Number(this.element.getAttribute("slide")||"0"));if(this.element.hasAttribute("controls"))this.xa=!0;else P(this.win,"input").onMouseDetected((function(f){f&&(a.xa=!0,Z(a))}),!0);return this.mutateElement((function(){}))};h.isRelayoutNeeded=function(){return!0};h.layoutCallback=function(){if(ua(this.element))return fa();this.I.wasLaidOut();this.o.updateUi();return fa()};h.unlayoutCallback=function(){this.I.wasUnlaidOut();return!0};h.pauseCallback=function(){this.o.pauseLayout()};h.resumeCallback=function(){this.o.resumeLayout()};h.mutatedAttributesCallback=function(a){void 0!==a.slide&&this.o.goToSlide(Number(a.slide))};h.goToSlide=function(a){this.o.goToSlide(a,{smoothScroll:!1})};h.interactionNext=function(){"carousel"==this.fa?qb(this,!0):this.o.next(0)};h.interactionPrev=function(){"carousel"==this.fa?qb(this,!1):this.o.prev(0)};function qb(a,b){var c=a.h;a=(a.win.getComputedStyle(c)||na).direction;c.scrollLeft+=c.offsetWidth*(b?1:-1)*("rtl"==a?-1:1)}function ob(a,b){var c=a.element.getAttribute("dir")||(a.win.getComputedStyle(a.element)||na).direction,d=a.element.hasAttribute("loop"),e=a.element.getAttribute("autoplay"),f=a.element.getAttribute("delay"),g=a.element.getAttribute("type"),k=null!=e,m=e?Number(e):Number.POSITIVE_INFINITY,l=Math.max(Number(f)||5e3,1e3);a.o.updateForwards("rtl"!=c);a.o.updateLoop(d||k);a.o.updateAutoAdvanceLoops(m);a.o.updateAutoAdvanceInterval(l);a.mutateElement((function(){a.K.setAttribute("dir",c);a.J.setAttribute("dir",c)}));nb(a,k);rb(a,g,b);Z(a)}function sb(a,b){var c=String(b+1),d=String(a.j.length);return" "+(a.element.getAttribute("data-button-count-format")||"(%s of %s)").replace("%s",c).replace("%s",d)}function Z(a){var b=a.o.getCurrentIndex(),c=a.na&&!a.xa,d=c||a.o.isAtStart(),e=c||a.o.isAtEnd();a.K.classList.toggle("amp-disabled",d);a.K.setAttribute("aria-disabled",d);var f=a.K;var g=0<=b-1?b-1:a.element.hasAttribute("loop")?a.j.length-1:null;g=null==g?0:g;g=(a.element.getAttribute("data-prev-button-aria-label")||"Previous item in carousel")+sb(a,g);f.title=g;a.K.tabIndex=d?-1:0;a.J.classList.toggle("amp-disabled",e);a.J.setAttribute("aria-disabled",e);f=a.J;b=b+1<a.j.length?b+1:a.element.hasAttribute("loop")?0:null;b=null==b?a.j.length-1:b;b=(a.element.getAttribute("data-next-button-aria-label")||"Next item in carousel")+sb(a,b);f.title=b;a.J.tabIndex=e?-1:0}function rb(a,b,c){var d="slides"==b;a.fa=d?"slides":"carousel";a.o.updateAlignment(d?"center":"start");a.o.updateHideScrollbar(d);a.o.updateMixedLength(!d);a.o.updateSnap(d);var e=d?"button":"presentation";a.K.setAttribute("role",e);a.J.setAttribute("role",e);a.j=c.map((function(f){f.classList.add("amp-carousel-slide");if(d){var g=document.createElement("div");g.classList.add("i-amphtml-carousel-slotted","i-amphtml-carousel-wrapper");g.appendChild(f);return g}return f}));a.j.forEach((function(f){a.h.appendChild(f);d?f.classList.add("i-amphtml-carousel-slide-item"):f.classList.add("amp-scrollable-carousel-slide")}))}function tb(a,b){return null==b?"null":a.j[b].getAttribute("data-slide-id")||String(b)}function pb(a){a.Pa&&J(a.h,"touchmove",(function(b){b.shouldViewerCancelPropagation=!0}))}function nb(a,b){a.ka=void 0!==b?b:!a.ka;a.o.updateAutoAdvance(a.ka)}h.ta=function(a){var b=a.detail;a=b.index;var c=b.actionSource;this.na=this.na||3==c;Z(this);if("carousel"!=this.fa&&(b=this.A,this.A=a,null!=b)){var d=t({index:a}),e=2==c||3==c||0==c?3:1;c=t({index:a,actionTrust:e});d=I(this.win,"slidescroll.slideChange",d);this.za.trigger(this.element,"slideChange",d,e);d=this.element;c=c||{};e=d.ownerDocument.createEvent("Event");e.data=c;e.initEvent("slideChange",Ca.bubbles,Ca.cancelable);d.dispatchEvent(e);c=a-b;d=this.j.length;c=(this.o.isLooping()?0<c&&.5>c/d||0>c&&-.5>c/d:0<c)?"amp-carousel-next":"amp-carousel-prev";a=t({fromSlide:tb(this,b),toSlide:tb(this,a)});jb(this.element,"amp-carousel-change",a);jb(this.element,c,a)}};(function(a){a.registerElement("amp-carousel",W,".i-amphtml-carousel-content{position:absolute;top:0;left:0;bottom:0;right:0}.i-amphtml-carousel-scroll{display:-ms-flexbox;display:flex;width:100%;height:100%;-ms-flex-align:center;align-items:center;outline:none;scroll-behavior:smooth;-webkit-overflow-scrolling:touch!important;--visible-count:1}.i-amphtml-carousel-scroll[hide-scrollbar=true]{scrollbar-width:none}.i-amphtml-carousel-scroll[hide-scrollbar=true]::-webkit-scrollbar{display:none;box-sizing:content-box!important}.i-amphtml-carousel-scroll[horizontal=true]{-ms-flex-direction:row;flex-direction:row;scroll-snap-type-x:mandatory;scroll-snap-type:x mandatory;padding-bottom:20px!important;overflow-y:hidden}.i-amphtml-carousel-scroll[horizontal=false]{-ms-flex-direction:column;flex-direction:column;scroll-snap-type-y:mandatory;scroll-snap-type:y mandatory;padding-right:20px!important;overflow-x:hidden}.i-amphtml-carousel-scroll[snap=false]{scroll-snap-type:none}.i-amphtml-carousel-scroll[user-scrollable=false]{overflow:hidden}.i-amphtml-carousel-spacer{visibility:hidden;z-index:-1}.i-amphtml-carousel-slotted,.i-amphtml-carousel-spacer{box-sizing:border-box!important;margin:0!important;-ms-flex-negative:0!important;flex-shrink:0!important;width:100%;height:100%;scroll-snap-stop:always}.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][mixed-length=false]>.i-amphtml-carousel-spacer{width:calc(100%/var(--visible-count))!important;min-width:auto!important;max-width:none!important}.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][mixed-length=false]>.i-amphtml-carousel-spacer{height:calc(100%/var(--visible-count))!important;min-height:auto!important;max-height:none!important}.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=true][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-width:100%!important}.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-slotted,.i-amphtml-carousel-scroll[horizontal=false][snap=true][mixed-length=true]>.i-amphtml-carousel-spacer{max-height:100%!important}.i-amphtml-carousel-scroll>.i-amphtml-carousel-slotted{will-change:transform}amp-carousel .i-amphtml-carousel-scroll[horizontal=true]{padding-bottom:0!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-scroll{display:block!important;white-space:nowrap!important}amp-carousel:not([type=slides]) .i-amphtml-carousel-content{position:static}.amp-scrollable-carousel-slide{display:inline-block!important;margin-left:8px;margin-inline-start:8px;margin-inline-end:0}.amp-scrollable-carousel-slide.i-amphtml-layout-responsive{width:100%}.amp-scrollable-carousel-slide:first-child{margin-left:0px;margin-inline-start:0;margin-inline-end:0}.i-amphtml-carousel-arrows{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;pointer-events:none}.amp-carousel-button[dir=rtl]{transform:scaleX(-1)}.amp-carousel-button{position:relative;box-sizing:border-box;height:34px;width:34px;margin:16px;border-style:none;border-radius:2px;background-color:rgba(0,0,0,.5);background-position:50% 50%;background-repeat:no-repeat;z-index:10;pointer-events:all}.amp-carousel-button:focus{border:1px solid #000;outline:1px solid #fff}.amp-carousel-button.amp-disabled{animation:none;pointer-events:none;clip:rect(0 0 0 0);-webkit-clip-path:inset(50%);clip-path:inset(50%);height:1px;overflow:hidden;white-space:nowrap;width:1px}.amp-carousel-button-prev{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23fff'%3E%3Cpath d='M15 8.25H5.87l4.19-4.19L9 3 3 9l6 6 1.06-1.06-4.19-4.19H15v-1.5z'/%3E%3C/svg%3E\");background-size:18px 18px}.amp-carousel-button-next{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' fill='%23fff'%3E%3Cpath d='M9 3 7.94 4.06l4.19 4.19H3v1.5h9.13l-4.19 4.19L9 15l6-6z'/%3E%3C/svg%3E\");background-size:18px 18px}.i-amphtml-carousel-slide-item{position:relative!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important}.i-amphtml-carousel-slide-item>*{width:100%;height:100%;overflow:hidden!important}.amp-carousel-slide>.i-amphtml-replaced-content{-o-object-fit:contain;object-fit:contain}\n/*# sourceURL=/extensions/amp-carousel/0.2/amp-carousel.css*/")})(self.AMP)}});//# sourceMappingURL=amp-carousel-0.2.js.map