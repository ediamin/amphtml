(self.AMP=self.AMP||[]).push({n:"amp-font",ev:"0.1",l:true,v:"2106040012000",m:0,f:function(AMP,_){"use strict";var f="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function l(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object")})()}l(this);"function"===typeof Symbol&&Symbol("x");var m;if("function"==typeof Object.setPrototypeOf)m=Object.setPrototypeOf;else{var p;a:{var q={a:!0},r={};try{r.__proto__=q;p=r.a;break a}catch(a){}p=!1}m=p?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var t=m;var u=self.AMP_CONFIG||{},w=("string"==typeof u.cdnProxyRegex?new RegExp(u.cdnProxyRegex):u.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function x(a){if(self.document&&self.document.head&&(!self.location||!w.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}u.cdnUrl||x("runtime-host");u.geoApiUrl||x("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var y=self.__AMP_LOG;function z(){if(!y.user)throw Error("failed to call initLogConstructor");return y.user}function A(a){a=a.__AMP_TOP||(a.__AMP_TOP=a);return B(a,"vsync")}function B(a,b){var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var C,D="Webkit webkit Moz moz ms O o".split(" ");function F(a,b){for(var c in b){var d=a,k=b[c];var e=d.style;var g=c;if(g.startsWith("--"))e=g;else{C||(C=Object.create(null));var n=C[g];if(!n){n=g;if(void 0===e[g]){var h=g;h=h.charAt(0).toUpperCase()+h.slice(1);b:{for(var v=0;v<D.length;v++){var E=D[v]+h;if(void 0!==e[E]){h=E;break b}}h=""}void 0!==e[h]&&(n=h)}C[g]=n}e=n}e&&(e.startsWith("--")?d.style.setProperty(e,k):d.style[e]=k)}}var G=["sans-serif","serif"];function H(a){this.B=a;this.j=a.win.document;this.h=this.o=null;this.H=this.I=!1}H.prototype.load=function(a,b){var c=this;this.h=a;return B(this.B.win,"timer").timeoutPromise(b,I(this)).then((function(){c.I=!0;c.A()}),(function(d){c.H=!0;c.A();throw d}))};function I(a){return new Promise((function(b,c){var d=a.h.fontStyle+" "+a.h.variant+" "+a.h.weight+" "+a.h.size+" '"+a.h.family+"'";"fonts"in a.j?a.j.fonts.check(d)?b():a.j.fonts.load(d).then((function(){return a.j.fonts.load(d)})).then((function(){a.j.fonts.check(d)?b():c(Error("Font could not be loaded, probably due to incorrect @font-face."))})).catch(c):J(a).then(b,c)}))}function J(a){return new Promise((function(b,c){var d=A(a.B.win),k=K(a),e=d.createTask({measure:function(){a.I?b():a.H?c(Error("Font loading timed out.")):k.some((function(g){return g.compare()}))?b():e()}});e()}))}function K(a){var b=a.o=a.j.createElement("div");F(b,{fontSize:"40px",fontVariant:a.h.variant,fontWeight:a.h.weight,fontStyle:a.h.fontStyle,left:"-999px",lineHeight:"normal",margin:0,padding:0,position:"absolute",top:"-999px",visibility:"hidden"});var c=G.map((function(d){return new L(b,a.h.family,d)}));a.B.getBody().appendChild(b);return c}H.prototype.A=function(){if(this.o){var a=this.o;a.parentElement&&a.parentElement.removeChild(a)}this.o=null};function L(a,b,c){var d=a.ownerDocument,k=b+","+c;this.C=M(d,c);this.G=M(d,k);a.appendChild(this.C);a.appendChild(this.G)}function M(a,b){a=a.createElement("div");a.textContent="MAxmTYklsjo190QW";F(a,{float:"left",fontFamily:b,margin:0,padding:0,whiteSpace:"nowrap"});return a}L.prototype.compare=function(){var a=2<Math.abs(this.C.offsetHeight-this.G.offsetHeight);return 2<Math.abs(this.C.offsetWidth-this.G.offsetWidth)||a};function N(a){a=AMP.BaseElement.call(this,a)||this;a.D="";a.L="";a.J="";a.K="";a.F=null;return a}var O=AMP.BaseElement;N.prototype=f(O.prototype);N.prototype.constructor=N;if(t)t(N,O);else for(var P in O)if("prototype"!=P)if(Object.defineProperties){var Q=Object.getOwnPropertyDescriptor(O,P);Q&&Object.defineProperty(N,P,Q)}else N[P]=O[P];N.M=O.prototype;N.prerenderAllowed=function(){return!0};N.prototype.buildCallback=function(){var a=this.element.getAttribute("font-family"),b=this.element;this.D=z().assert(a,"The font-family attribute is required for <amp-font> %s",b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);this.L=this.element.getAttribute("font-weight")||"400";this.J=this.element.getAttribute("font-style")||"normal";this.K=this.element.getAttribute("font-variant")||"normal";this.F=new H(this.getAmpDoc());R(this)};function R(a){a.F.load({fontStyle:a.J,variant:a.K,weight:a.L,size:"medium",family:a.D},S(a)).then((function(){var b=a.element.getAttribute("on-load-add-class"),c=a.element.getAttribute("on-load-remove-class");T(a,b,c)})).catch((function(){var b=a.element.getAttribute("on-error-add-class"),c=a.element.getAttribute("on-error-remove-class");T(a,b,c);z().warn("amp-font","Font download timed out for "+a.D)}))}function T(a,b,c){var d=a.getAmpDoc();d=d.getRootNode().documentElement||d.getBody();b&&d.classList.add(b);c&&d.classList.remove(c);a.A()}N.prototype.A=function(){this.F=null};function S(a){var b=parseInt(a.element.getAttribute("timeout"),10),c=b;b="number"!==typeof c||!isFinite(c)||0>b?3e3:b;return b=Math.max(b-B(a.win,"timer").timeSinceStart(),100)}(function(a){a.registerElement("amp-font",N)})(self.AMP)}});//# sourceMappingURL=amp-font-0.1.js.map