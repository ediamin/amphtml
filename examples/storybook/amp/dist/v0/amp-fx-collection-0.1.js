(self.AMP=self.AMP||[]).push({n:"amp-fx-collection",ev:"0.1",l:true,v:"2106040012000",m:0,f:function(AMP,_){"use strict";function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ba(a){for(var b=null,c="",d=l(arguments),e=d.next();!e.done;e=d.next())if(e=e.value,e instanceof Error&&!b){var f=b=void 0;if(null==(f=Object.getOwnPropertyDescriptor(e,"message"))?0:f.writable)b=e;else{f=e.stack;var g=Error(e.message);for(b in e)g[b]=e[b];g.stack=f;b=g}}else c&&(c+=" "),c+=e;b?c&&(b.message=c+": "+b.message):b=Error(c);return b}function ca(a){var b=ba.apply(null,arguments);setTimeout((function(){var c,d;null==(d=(c=self).__AMP_REPORT_ERROR)||d.call(c,b);throw b}))}function da(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];try{a.apply(null,c)}catch(e){ca(e)}}function ea(a){var b=!1,c=null,d=a;return function(e){for(var f=[],g=0;g<arguments.length;++g)f[g-0]=arguments[g];b||(c=d.apply(self,f),b=!0,d=null);return c}}function fa(a,b){function c(){d=0;var g=500-(a.Date.now()-e);if(0<g)d=a.setTimeout(c,g);else{var h=f;f=null;b.apply(null,h)}}var d=0,e=0,f=null;return function(g){for(var h=[],k=0;k<arguments.length;++k)h[k-0]=arguments[k];e=a.Date.now();f=h;d||(d=a.setTimeout(c,500))}}var m=self.AMP_CONFIG||{},ha=("string"==typeof m.cdnProxyRegex?new RegExp(m.cdnProxyRegex):m.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function n(a){if(self.document&&self.document.head&&(!self.location||!ha.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}m.cdnUrl||n("runtime-host");m.geoApiUrl||n("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var p=self.__AMP_LOG;function q(){if(!p.user)throw Error("failed to call initLogConstructor");return p.user}function r(){if(p.dev)return p.dev;throw Error("failed to call initLogConstructor")}function t(a,b,c){return q().assert(a,b,c,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}var u="fade-in fade-in-scroll float-in-bottom float-in-top fly-in-bottom fly-in-left fly-in-right fly-in-top parallax".split(" "),v=u[0],w=u[1],ia=u[2],ja=u[3],x=u[4],y=u[5],z=u[6],A=u[7],B=u[8],C={},D=(C[v]={observes:0,opacity:!0},C[w]={observes:0,opacity:!0},C[ia]={observes:1,translates:{y:!0}},C[ja]={observes:1,translates:{y:!0}},C[x]={observes:0,translates:{y:!0}},C[y]={observes:0,translates:{x:!0}},C[z]={observes:0,translates:{x:!0}},C[A]={observes:0,translates:{y:!0}},C[B]={observes:0,translates:{y:!0}},C);function ka(a){return t(-1<u.indexOf(a),"Invalid amp-fx type `%s`",a)}function la(a){a.hasAttribute("amp-fx");var b=a.getAttribute("amp-fx").trim().toLowerCase().split(/\s+/);t(b.length,"No value provided for `amp-fx` attribute");a=b.filter(ka);for(var c=0;c<a.length;c++)for(var d=a[c],e=c+1;e<a.length;e++){var f=a[e];if(d==f)var g=!1;else{g=D[d];var h=g.translates,k=D[f],Da=k.opacity,N=k.translates;g=g.observes!==k.observes||g.opacity&&Da||h&&N&&(h.x&&N.x||h.y&&N.y)?!1:!0}g||(q().warn("amp-fx-collection","%s preset can't be combined with %s preset as the resulting animation isn't valid.",d,f),a.splice(e--,1))}return a}function E(a,b,c){var d=F(a),e=G(d),f=H(e),g=f[b];g||(g=f[b]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1});g.ctor||(g.ctor=c,g.context=d,g.sharedInstance=!1,g.resolve&&I(e,b))}function J(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return I(a,b)}function K(a,b){var c=F(a);c=G(c);return I(c,b)}function F(a){return a.nodeType?J((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function G(a){a=F(a);return a.isSingleDoc()?a.win:a}function I(a,b){a=H(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function H(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function ma(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)}function L(a){return K(a,"viewport")}function na(a,b){return{left:0,top:0,width:a,height:b,bottom:0+b,right:0+a,x:0,y:0}}function M(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1}function oa(a,b,c,d){this.element=b;this.L=d;this.fidelity=c;this.turn=0==c?Math.floor(4*Math.random()):0;this.F=null;this.A=L(a)}oa.prototype.update=function(a){var b=this;if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var c=this.A.getSize(),d=na(c.width,c.height);this.A.getClientRectAsync(this.element).then((function(e){var f={positionRect:e,viewportRect:d,relativePos:null},g=b.F;if(!(g&&M(g.positionRect,f.positionRect)&&M(g.viewportRect,f.viewportRect))){g=f.positionRect;var h=f.viewportRect;f.relativePos=g.top<h.top?"top":g.bottom>h.bottom?"bottom":"inside";h=f.viewportRect;g.top<=h.bottom&&h.top<=g.bottom&&g.left<=h.right&&h.left<=g.right?(b.F=f,b.L(f)):b.F&&(b.F=null,f.positionRect=null,b.L(f))}}))};var O,pa="Webkit webkit Moz moz ms O o".split(" "),qa={getPropertyPriority:function(){return""},getPropertyValue:function(){return""}};function ra(a,b,c){if(b.startsWith("--"))return b;O||(O=Object.create(null));var d=O[b];if(!d||c){d=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<pa.length;f++){var g=pa[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var h=e;void 0!==a[h]&&(d=h)}c||(O[b]=d)}return d}function sa(a,b){a=a.style;for(var c in b)a.setProperty(ra(a,c),String(b[c]),"important")}function P(a,b){for(var c in b){var d=a,e=b[c],f=ra(d.style,c,void 0);f&&(f.startsWith("--")?d.style.setProperty(f,e):d.style[f]=e)}}function ta(a){"display"in a&&r().error("STYLE","`display` style detected in styles. You must use toggle instead.");return a}function Q(a,b,c){var d=a.element,e="X"==b,f=c*a.flyInDistance+(e?"vw":"vh");a.initialTrigger||(K(d,"mutator").mutateElement(d,(function(){var g=a.win.getComputedStyle(d)||qa,h=e?"left":"top",k={position:"static"===g.position?"relative":g.position,visibility:"visible"};k[h]="calc("+("auto"===g[h]?"0px":g[h])+" - "+f+")";P(d,ta(k))})),a.initialTrigger=!0);P(d,{"transition-duration":a.duration,"transition-timing-function":a.easing,transform:"translate"+b+"("+f+")"})}function R(a){var b=parseFloat(a.getAttribute("data-margin-start"));b&&t(0<=b&&100>=b,"data-margin-start must be a percentage value and be between 0% and 100% for: %s",a);return b}function S(a){return a&&a.positionRect?a.positionRect.top:null}function ua(a,b,c){a=S(a);return!!a&&a+c*b.viewportHeight*b.flyInDistance/100<=(1-b.marginStart)*b.viewportHeight}function T(a,b,c){a=S(a);var d=void 0!==c?c:b.viewportHeight;return!!a&&a<=(1-b.marginStart)*d}var U={},va=(U[B]={userAsserts:function(a){var b=t(a.getAttribute("data-parallax-factor"),"data-parallax-factor=<number> attribute must be provided for: %s",a);t(0<parseFloat(b),"data-parallax-factor must be a number and greater than 0 for: %s",a)},update:function(a){if((a=S(a))&&!(a>this.adjustedViewportHeight)){var b=-(parseFloat(this.factor)-1);this.offset=(this.adjustedViewportHeight-a)*b;P(this.element,{transform:"translateY("+this.offset.toFixed(0)+"px)"})}}},U[x]={userAsserts:R,update:function(a){ua(a,this,-1)&&Q(this,"Y",-1)}},U[y]={userAsserts:R,update:function(a){T(a,this)&&Q(this,"X",1)}},U[z]={userAsserts:R,update:function(a){T(a,this)&&Q(this,"X",-1)}},U[A]={userAsserts:R,update:function(a){ua(a,this,1)&&Q(this,"Y",1)}},U[v]={userAsserts:R,update:function(a){T(a,this)&&P(this.element,{"transition-duration":this.duration,"transition-timing-function":this.easing,opacity:1})}},U[w]={userAsserts:function(a){var b=R(a),c=parseFloat(a.getAttribute("data-margin-end"));c&&(t(0<=c&&100>=c,"data-margin-end must be a percentage value and be between 0% and 100% for: %s",a),t(c>b,"data-margin-end must be greater than data-margin-start for: %s",a))},update:function(a){var b=this.marginStart,c=this.viewportHeight;!T(a,this,this.adjustedViewportHeight)||!this.hasRepeat&&1<=this.offset||(a=S(a),this.offset=(c-a-b*c)/((this.marginEnd-b)*c),P(this.element,{opacity:this.offset}))}},U);function V(){this.j=null}V.prototype.add=function(a){var b=this;this.j||(this.j=[]);this.j.push(a);return function(){b.remove(a)}};V.prototype.remove=function(a){if(this.j){var b=this.j;a=b.indexOf(a);-1!=a&&b.splice(a,1)}};V.prototype.removeAll=function(){this.j&&(this.j.length=0)};V.prototype.fire=function(a){if(this.j)for(var b=l(this.j),c=b.next();!c.done;c=b.next())c=c.value,c(a)};V.prototype.getHandlerCount=function(){var a,b;return null!=(b=null==(a=this.j)?void 0:a.length)?b:0};function wa(a){var b=this;this.o=a;this.N=new V;this.S=ea((function(){return xa(b)}));this.C=this.D=0;this.B=!0}wa.prototype.observe=function(a){this.N.add(a);this.S()};function xa(a){var b=L(a.o);b.onScroll((function(){var c=b.getScrollTop();a.C=c;c=a.C-a.D;if(!a.B&&0<c||a.B&&0>c)a.D=a.C;!a.B&&36>=a.C?(W(a,!0),a.D=a.C):!a.B&&-20>c?(W(a,!0),a.D=a.C):a.B&&80<c&&(W(a,!1),a.D=a.C)}))}function W(a,b){a.B!=b&&(a.B=b,a.N.fire(b))}function ya(a,b){return X(b,"overflow","hidden",a)&&X(b,"position","fixed",a)}function za(a,b,c){var d=b.replace(/^float\-in\-([^\s]+)$/,"$1");return X(c,d,"0px",a,"amp-fx="+b)?d:null}function X(a,b,c,d,e){if(a[b]==c)return!0;e=e?" "+e:"";var f=Aa(d);q().warn("amp-fx","FX element must have `"+b+": "+c+"` ["+f+"]"+e+".");return!1}function Aa(a,b){b=void 0===b?0:b;var c=a.classList,d=a.id,e=a.parentElement;if(d)return"#"+d;d=a.tagName.toLowerCase();0<c.length&&(d+="."+c[0]+(1<c.length?"...":""));if(!e)return d+" (detached)";var f=e.firstElementChild,g=e.lastElementChild;if(a!=f||a!=g)a==f?d+=":first-child":a==g&&(d+=":last-child");return 0<b?d:Aa(e,b+1)+" > "+d}function Ba(a){var b={linear:"cubic-bezier(0.00, 0.00, 1.00, 1.00)","ease-in-out":"cubic-bezier(0.80, 0.00, 0.20, 1.00)","ease-in":"cubic-bezier(0.80, 0.00, 0.60, 1.00)","ease-out":"cubic-bezier(0.40, 0.00, 0.40, 1.00)"};if(b[a])return b[a];t(a.startsWith("cubic-bezier"),"All custom bezier curves should be specified by following the `cubic-bezier()` function notation.");return a}function Ca(a){var b=parseFloat(a);return isNaN(b)?null:b/100}function Ea(a){switch(a){case B:return{"will-change":"transform"};case v:return{"will-change":"opacity",opacity:0};case w:return{"will-change":"opacity",opacity:0};case x:case A:case y:case z:return{"will-change":"transform"};default:return{visibility:"visible"}}}function Fa(a,b){switch(b){case v:return"1000ms";case x:case A:case y:case z:return a=L(a).getSize().width,a=Math.min(1e3,a),480>a?a=480:1e3<a&&(a=1e3),200*(a-480)/520+400+"ms";default:return"1ms"}}function Ga(a){switch(a){case v:case z:case y:case A:case x:return{start:.05};case w:return{start:0,end:.5};default:return{start:0,end:1}}}function Y(a){var b=this;this.o=a;this.O=a.win;this.h=[];this.U=J(this.O,"vsync");this.A=L(a);this.G=[];this.H=this.J=this.I=!1;this.P=fa(this.O,(function(){b.I=!1}))}Y.prototype.observe=function(a,b,c){var d=this,e=new oa(this.o,a,b,c);this.h.push(e);this.H||Ha(this);e.update();return function(){for(var f=0;f<d.h.length;f++)if(d.h[f]==e){d.h.splice(f,1);0==d.h.length&&Ia(d);break}}};Y.prototype.unobserve=function(a){for(var b=0;b<this.h.length;b++)if(this.h[b].element==a){this.h.splice(b,1);0==this.h.length&&Ia(this);return}r().error("POSITION_OBSERVER","cannot unobserve unobserved element")};function Ha(a){a.H=!0;a.G.push(a.A.onScroll((function(){a.P();a.I=!0;a.J||Ja(a)})));a.G.push(a.A.onResize((function(){a.updateAllEntries(!0)})))}function Ia(a){for(a.H=!1;a.G.length;)a.G.pop()()}Y.prototype.updateAllEntries=function(a){for(var b=0;b<this.h.length;b++)this.h[b].update(a)};function Ja(a){a.updateAllEntries();a.J=!0;a.I?a.U.measure((function(){Ja(a)})):a.J=!1}function Ka(a,b,c){if(!K(b,"viewer").isEmbedded()){E(a,"fx-scroll-dispatch",wa);var d=K(a,"fx-scroll-dispatch"),e=!0;K(b,"mutator").measureMutateElement(b,(function(){var f=a.win.getComputedStyle(b)||qa,g=za(b,c,f),h=ya(b,f);g&&h?d.observe((function(k){La(b,k,g)})):e=!1}),(function(){e&&sa(b,{"will-change":"transform"})}))}}function La(a,b,c){var d=0;K(a,"mutator").measureMutateElement(a,(function(){if(b)d=0;else{var e=a.getBoundingClientRect().height;d="top"==c?-e:e}}),(function(){sa(a,{transition:"transform 300ms ease",transform:"translate(0, "+d+"px)"})}))}function Ma(a,b,c){var d=this;this.win=a.win;this.T=K(b,"position-observer");this.A=L(b);this.M=K(b,"mutator");this.adjustedViewportHeight=this.viewportHeight=null;this.element=b;this.offset=0;this.R=c;va[c].userAsserts(b);this.factor=parseFloat(b.getAttribute("data-parallax-factor"));this.marginStart=b.hasAttribute("data-margin-start")?Ca(b.getAttribute("data-margin-start")):Ga(c).start;this.marginEnd=b.hasAttribute("data-margin-end")?Ca(b.getAttribute("data-margin-end")):Ga(c).end;if(b.hasAttribute("data-easing"))var e=b.getAttribute("data-easing");else a:switch(c){case v:e="ease-in";break a;case z:case y:case A:case x:e="ease-out";break a;default:e="ease-in"}this.easing=Ba(e);this.duration=b.hasAttribute("data-duration")?b.getAttribute("data-duration"):Fa(a,c);if(b.hasAttribute("data-fly-in-distance"))a=parseFloat(b.getAttribute("data-fly-in-distance"));else a:switch(c){case x:case A:a=1e3>L(a).getSize().width?25:33;break a;case y:case z:a=100;break a;default:a=1}this.flyInDistance=a;this.hasRepeat=b.hasAttribute("data-repeat");this.initialTrigger=!1;Na(this).then((function(f){d.adjustedViewportHeight=f;Oa(d)}));Pa(this)}function Oa(a){a.T.observe(a.element,1,va[a.R].update.bind(a));a.A.onResize((function(){Pa(a);Na(a).then((function(b){a.adjustedViewportHeight=b}))}))}function Pa(a){a.M.measureElement((function(){a.viewportHeight=a.A.getHeight()}))}function Na(a){return a.M.measureElement((function(){for(var b=a.A.getHeight(),c=0,d=a.element;d;d=d.offsetParent)c+=d.offsetTop;return c<b?c:b}))}var Z;function Qa(a,b){var c=Ra();a.addEventListener("amp:dom-update",(function(d){try{return b(d)}catch(g){var e,f;null==(f=(e=self).__AMP_REPORT_ERROR)||f.call(e,g);throw g}}),c?void 0:!1)}function Ra(){if(void 0!==Z)return Z;Z=!1;try{var a={get capture(){Z=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return Z}function Sa(a,b){Qa(a,b)}function Ta(a){var b=this;this.o=a;this.K=[];Promise.all([a.whenReady(),a.whenFirstVisible()]).then((function(){var c=b.o.getRootNode();Ua(b);Sa(c,(function(){return Ua(b)}))}))}function Ua(a){var b=a.o.getRootNode().querySelectorAll("[amp-fx]");ma(b,(function(c){a.K.includes(c)||da((function(){return Va(a,c)}))}))}function Va(a,b){b.hasAttribute("amp-fx");a.K.includes(b);a.o.isVisible();la(b).forEach((function(c){if(1==D[c].observes)Ka(a.o,b,c);else{var d=a.o;E(d,"position-observer",Y);new Ma(d,b,c);P(b,ta(Ea(c)))}}));a.K.push(b)}(function(a){a.registerServiceForDoc("amp-fx-collection",Ta)})(self.AMP)}});//# sourceMappingURL=amp-fx-collection-0.1.js.map