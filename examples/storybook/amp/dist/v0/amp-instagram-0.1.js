(self.AMP=self.AMP||[]).push({n:"amp-instagram",ev:"0.1",l:true,v:"2106040012000",m:0,f:function(AMP,_){"use strict";var f,g="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function k(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object")})()}k(this);"function"===typeof Symbol&&Symbol("x");var l;if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var m;a:{var n={a:!0},q={};try{q.__proto__=n;m=q.a;break a}catch(a){}m=!1}l=m?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var r=l;var t=Object.prototype.toString;var u=self.AMP_CONFIG||{},v=("string"==typeof u.cdnProxyRegex?new RegExp(u.cdnProxyRegex):u.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function w(a){if(self.document&&self.document.head&&(!self.location||!v.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}u.cdnUrl||w("runtime-host");u.geoApiUrl||w("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var x=self.__AMP_LOG;function y(a){a=a.__AMP_TOP||(a.__AMP_TOP=a);var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});a=b.preconnect;a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var z;function D(a,b){function c(p){try{return e(p)}catch(A){var B,C;null==(C=(B=self).__AMP_REPORT_ERROR)||C.call(B,A);throw A}}var d=a,e=b,h=E();d.addEventListener("message",c,h?void 0:!1);return function(){var p;null==(p=d)||p.removeEventListener("message",c,h?void 0:!1);c=d=e=null}}function E(){if(void 0!==z)return z;z=!1;try{var a={get capture(){z=!0}};self.addEventListener("test-options",null,a);self.removeEventListener("test-options",null,a)}catch(b){}return z}function F(a,b){return D(a,b)}var G,H="Webkit webkit Moz moz ms O o".split(" ");function I(a,b){var c=a.style;if("opacity".startsWith("--"))c="opacity";else{G||(G=Object.create(null));var d=G.opacity;if(!d){d="opacity";if(void 0===c.opacity){var e;b:{for(e=0;e<H.length;e++){var h=H[e]+"Opacity";if(void 0!==c[h]){e=h;break b}}e=""}void 0!==c[e]&&(d=e)}G.opacity=d}c=d}c&&(c.startsWith("--")?a.style.setProperty(c,b):a.style[c]=b)}function J(a){a=AMP.BaseElement.call(this,a)||this;a.h=null;a.B="";a.j=null;a.o="";a.A=null;return a}var K=AMP.BaseElement;J.prototype=g(K.prototype);J.prototype.constructor=J;if(r)r(J,K);else for(var L in K)if("prototype"!=L)if(Object.defineProperties){var M=Object.getOwnPropertyDescriptor(K,L);M&&Object.defineProperty(J,L,M)}else J[L]=K[L];J.D=K.prototype;f=J.prototype;f.preconnectCallback=function(a){y(this.win).url(this.getAmpDoc(),"https://www.instagram.com",a);y(this.win).url(this.getAmpDoc(),"https://instagram.fsnc1-1.fna.fbcdn.net",a)};f.renderOutsideViewport=function(){return!1};f.buildCallback=function(){var a=this.element.getAttribute("data-shortcode")||this.element.getAttribute("shortcode"),b=this.element;if(!x.user)throw Error("failed to call initLogConstructor");this.B=x.user.assert(a,"The data-shortcode attribute is required for <amp-instagram> %s",b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);this.o=this.element.hasAttribute("data-captioned")?"captioned/":""};f.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};f.layoutCallback=function(){var a=this,b=this.element.ownerDocument.createElement("iframe");this.h=b;this.j=F(this.win,this.C.bind(this));b.setAttribute("scrolling","no");b.setAttribute("frameborder","0");b.setAttribute("allowtransparency","true");b.setAttribute("title","Instagram: "+this.element.getAttribute("alt"));b.src="https://www.instagram.com/p/"+encodeURIComponent(this.B)+"/embed/"+this.o+"?cr=1&v=12";this.applyFillContent(b);this.element.appendChild(b);I(b,0);return this.A=this.loadPromise(b).then((function(){a.getVsync().mutate((function(){I(b,1)}))}))};f.C=function(a){var b=this;if("https://www.instagram.com"==a.origin&&a.source==this.h.contentWindow){var c=a.data;if(c&&("[object Object]"===t.call(c)||c.startsWith("{"))){if("[object Object]"===t.call(c))var d=c;else try{d=JSON.parse(c)}catch(h){d=null}a=d;if(void 0!==a&&"MEASURE"==a.type&&a.details){var e=a.details.height;this.getVsync().measure((function(){b.h&&b.h.offsetHeight!==e&&b.forceChangeHeight(e)}))}}}};f.unlayoutOnPause=function(){return!0};f.unlayoutCallback=function(){if(this.h){var a=this.h;a.parentElement&&a.parentElement.removeChild(a);this.A=this.h=null}this.j&&this.j();return!0};(function(a){a.registerElement("amp-instagram",J,"amp-instagram.amp-instagram-default-framing{border:1px solid #dbdbdb!important}\n/*# sourceURL=/extensions/amp-instagram/0.1/amp-instagram.css*/")})(self.AMP)}});//# sourceMappingURL=amp-instagram-0.1.js.map