(self.AMP=self.AMP||[]).push({n:"amp-mraid",ev:"0.1",l:true,v:"2106040012000",m:0,f:function(AMP,_){"use strict";function e(){var a=this;this.promise=new Promise((function(b,c){a.resolve=b;a.reject=c}))}var k=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function l(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}}function m(a){var b=Object.create(null);if(!a)return b;for(var c;c=k.exec(a);){var d=l(c[1],c[1]);c=c[2]?l(c[2].replace(/\+/g," "),c[2]):"";b[d]=c}return b}var n="";function p(){var a=self;if(a.__AMP_MODE)var b=a.__AMP_MODE;else{b=m(a.location.originalHash||a.location.hash);n||(n=a.AMP_CONFIG&&a.AMP_CONFIG.v?a.AMP_CONFIG.v:"012106040012000");var c=m(a.location.originalHash||a.location.hash);c=!(!["1","actions","amp","amp4ads","amp4email"].includes(c.development)&&!a.AMP_DEV_MODE);b=a.__AMP_MODE={localDev:!1,development:c,examiner:"2"==b.development,esm:!1,geoOverride:b["amp-geo"],minified:!0,test:!1,log:b.log,version:"2106040012000",rtvVersion:n}}return b}var q=self.AMP_CONFIG||{},r=("string"==typeof q.cdnProxyRegex?new RegExp(q.cdnProxyRegex):q.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function t(a){if(!self.document||!self.document.head||self.location&&r.test(self.location.origin))return null;var b=self.document.head.querySelector('meta[name="'+a+'"]');return b&&b.getAttribute("content")||null}var u={thirdParty:q.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:q.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof q.thirdPartyFrameRegex?new RegExp(q.thirdPartyFrameRegex):q.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:q.cdnUrl||t("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:r,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:q.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:q.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:q.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:q.geoApiUrl||t("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var v=self.__AMP_LOG;function w(){if(v.dev)return v.dev;throw Error("failed to call initLogConstructor")}function x(a,b,c){var d=y(a),g=z(d),h=A(g),f=h[b];f||(f=h[b]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1});f.ctor||(f.ctor=c,f.context=d,f.sharedInstance=!1,f.resolve&&B(g,b));B(g,b)}function C(a,b,c){a=y(a);a=z(a);a=A(a);var d=a[b];d?d.reject&&d.reject(c):(a[b]=D(),a[b].reject(c))}function y(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;b=b.__AMP_TOP||(b.__AMP_TOP=b);a=B(b,"ampdoc").getAmpDoc(a)}return a}function z(a){a=y(a);return a.isSingleDoc()?a.win:a}function B(a,b){a=A(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function A(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function D(){var a=new e,b=a.promise,c=a.reject;a=a.resolve;b.catch((function(){}));return{obj:null,promise:b,resolve:a,reject:c,context:null,ctor:null}}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function E(a,b){x(a,"host-visibility",b)}function F(a,b){C(a,"host-visibility",b)}function G(a,b){x(a,"host-fullscreen",b)}function H(a,b){C(a,"host-fullscreen",b)}function I(a,b){x(a,"host-exit",b)}function J(a){C(a,"host-exit",{fallback:!0})}function K(a){this.h=a;this.o=!1}K.prototype.onVisibilityChange=function(a){this.h.addEventListener("exposureChange",(function(b,c){var d=c&&c.x?c.x:0,g=c&&c.y?c.y:0,h=c&&c.width?c.width:0,f=c&&c.height?c.height:0;a({visibleRect:{left:d,top:g,width:h,height:f,bottom:g+f,right:d+h,x:d,y:g},visibleRatio:b/100})}))};K.prototype.enterFullscreenOverlay=function(){if(this.o)return Promise.resolve(!1);this.h.expand();this.o=!0;return Promise.resolve(!0)};K.prototype.exitFullscreenOverlay=function(){if(!this.o)return Promise.resolve(!1);this.h.close();this.o=!1;return Promise.resolve(!0)};K.prototype.openUrl=function(a){this.h.open(a);return Promise.resolve(!0)};function L(a){var b=this;this.j=a;this.B=!1;this.h=null;this.A=!0;var c=this.j.getHeadNode().querySelectorAll('script[host-service="amp-mraid"]');if(1<c.length)w().error("amp-mraid","Multiple amp-mraid scripts.");else if(1>c.length)w().error("amp-mraid","Missing amp-mraid scripts.");else if(null!=c[0].getAttribute("no-fallback")&&(this.A=!1),"inabox"!==p().runtime)w().fine("amp-mraid","Only supported with Inabox"),M(this);else{var d=document.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",u.cdn+"/mraid.js");d.addEventListener("load",(function(){N(b)}));d.addEventListener("error",(function(){b.B||M(b)}));document.getElementsByTagName("head").item(0).appendChild(d)}}function O(a){var b=new K(a.h);a.h.addEventListener?E(a.j,(function(){return b})):F(a.j,{fallback:!1});a.h.expand&&a.h.close?G(a.j,(function(){return b})):H(a.j,{fallback:!1});a.h.open?I(a.j,(function(){return b})):J(a.j);a.B=!0}function N(a){var b=window.mraid;b&&b.getState?(a.h=b,"loading"===b.getState()?b.addEventListener("ready",(function(){O(a)})):O(a)):M(a)}function M(a){F(a.j,{fallback:a.A});J(a.j);H(a.j,{fallback:a.A})}(function(a){a.registerServiceForDoc("amp-mraid",L)})(self.AMP)}});//# sourceMappingURL=amp-mraid-0.1.js.map