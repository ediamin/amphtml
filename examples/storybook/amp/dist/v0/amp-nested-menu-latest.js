(self.AMP=self.AMP||[]).push({n:"amp-nested-menu",ev:"0.1",l:true,v:"2106040012000",m:0,f:function(AMP,_){"use strict";var e="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function h(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return}(function(){throw Error("Cannot find global object")})()}h(this);"function"===typeof Symbol&&Symbol("x");var k;if("function"==typeof Object.setPrototypeOf)k=Object.setPrototypeOf;else{var l;a:{var m={a:!0},n={};try{n.__proto__=m;l=n.a;break a}catch(a){}l=!1}k=l?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var q,p=k;function r(a){return a?Array.prototype.slice.call(a):[]}var t=self.AMP_CONFIG||{},u=("string"==typeof t.cdnProxyRegex?new RegExp(t.cdnProxyRegex):t.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function v(a){if(self.document&&self.document.head&&(!self.location||!u.test(self.location.origin))){var b=self.document.head.querySelector('meta[name="'+a+'"]');b&&b.getAttribute("content")}}t.cdnUrl||v("runtime-host");t.geoApiUrl||v("amp-geo-api");self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var w=self.__AMP_LOG;function x(a,b){if(!w.user)throw Error("failed to call initLogConstructor");w.user.assert(a,b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function y(a){if(a.nodeType){var b=(a.ownerDocument||a).defaultView;b=b.__AMP_TOP||(b.__AMP_TOP=b);a=z(b,"ampdoc").getAmpDoc(a)}return a}function z(a,b){A(a,b);var c=a.__AMP_SERVICES;c||(c=a.__AMP_SERVICES={});a=c[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function A(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var B;function C(a,b){if(void 0!==B)var c=B;else{try{var d=a.ownerDocument,f=d.createElement("div"),g=d.createElement("div");f.appendChild(g);c=f.querySelector(":scope div")===g}catch(R){c=!1}c=B=c}if(c)return a.querySelector(b.replace(/^|,/g,"$&:scope "));a.classList.add("i-amphtml-scoped");b=b.replace(/^|,/g,"$&.i-amphtml-scoped ");b=a.querySelectorAll(b);a.classList.remove("i-amphtml-scoped");return void 0===b[0]?null:b[0]}function D(a,b,c){for(;a&&a!==c;a=a.parentElement)if(b(a))return a;return null}function E(a,b){return a.closest?a.closest(b):D(a,(function(c){var d=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector||c.oMatchesSelector;return d?d.call(c,b):!1}))}function F(a){try{a.focus()}catch(b){}}function G(a){var b=AMP.BaseElement.call(this,a)||this;b.C=b.win.document;b.o=null;b.h=null;b.j=a;b.B=b.A.bind(b);b.F=b.D.bind(b);return b}var H=AMP.BaseElement;G.prototype=e(H.prototype);G.prototype.constructor=G;if(p)p(G,H);else for(var I in H)if("prototype"!=I)if(Object.defineProperties){var J=Object.getOwnPropertyDescriptor(H,I);J&&Object.defineProperty(G,I,J)}else G[I]=H[I];G.G=H.prototype;G.prerenderAllowed=function(){return!0};G.prototype.buildCallback=function(){var a=this.element,b=y(this.element);b=y(b);b=b.isSingleDoc()?b.win:b;this.o=A(b,"action")?z(b,"action"):null;this.h=a.getAttribute("side");"left"!=this.h&&"right"!=this.h&&(b=this.C,this.h="rtl"==(b.body.getAttribute("dir")||b.documentElement.getAttribute("dir")||"ltr")?"left":"right",a.setAttribute("side",this.h));this.registerAction("reset",this.reset.bind(this));a.addEventListener("click",this.B);a.addEventListener("keydown",this.F)};G.prototype.layoutCallback=function(){K(this);q||(q=Promise.resolve(void 0));var a=q;return a};function K(a){r(a.element.querySelectorAll("[amp-nested-submenu-open],[amp-nested-submenu-close]")).forEach((function(b){b.hasAttribute("tabindex")||b.setAttribute("tabindex",0);b.setAttribute("role","button");b.hasAttribute("amp-nested-submenu-open")&&b.setAttribute("aria-expanded","false");x(0==a.o.hasAction(b,"tap"),"submenu open/close buttons should not have tap actions registered.")}))}G.prototype.isLayoutSupported=function(a){return"fill"==a};G.prototype.A=function(a){var b=a.target;(a=E(a.target,"[amp-nested-submenu-open],[amp-nested-submenu-close]"))&&L(this,b,a)&&(a.hasAttribute("amp-nested-submenu-open")?M(this,a):(b=E(a,"[amp-nested-submenu]"),x(b,"amp-nested-menu: submenu close buttons are only allowed inside submenus"),N(this,b)))};function L(a,b,c){var d=!!D(b,(function(g){return"A"==g.tagName}),c),f=a.o.hasAction(b,"tap",c);return!d&&!f}function M(a,b){var c=C(b.parentElement,">[amp-nested-submenu]");x(c,"amp-nested-menu requires each submenu open button to have a submenu as its sibling");O(a,c)}function O(a,b){if(!b.hasAttribute("open")){var c=P(b);c&&(c.setAttribute("child-open",""),b.setAttribute("open",""),a.j=b,z(a.win,"timer").delay((function(){C(b.parentElement,">[amp-nested-submenu-open]").setAttribute("aria-expanded","true");var d=r(b.querySelectorAll("[amp-nested-submenu-close]")).filter((function(f){return P(f)==b}))[0];x(d,"amp-nested-menu requires each submenu to contain at least one submenu close button");F(d)}),350))}}function N(a,b){if(b.hasAttribute("open")){var c=P(b);c&&(c.removeAttribute("child-open"),b.removeAttribute("open"),a.j=c,z(a.win,"timer").delay((function(){var d=C(b.parentElement,">[amp-nested-submenu-open]");d.setAttribute("aria-expanded","false");F(d)}),350))}}G.prototype.reset=function(){for(;this.element.hasAttribute("child-open");)N(this,this.j)};G.prototype.D=function(a){if(!a.defaultPrevented)switch(a.key){case"Enter":case" ":this.A(a);break;case"ArrowLeft":case"ArrowRight":var b="ArrowLeft"==a.key;"left"==this.h&&(b=!b);b?N(this,this.j):(a=a.target,a.hasAttribute("amp-nested-submenu-open")&&M(this,a));break;case"ArrowUp":case"ArrowDown":case"Home":case"End":Q(a)}};function Q(a){var b=a.target,c=P(b);if(b=D(b,(function(g){return"LI"==g.tagName}),c)){if("ArrowUp"===a.key)var d=b.previousElementSibling;else if("ArrowDown"===a.key)d=b.nextElementSibling;else if("Home"===a.key)d=b.parentElement.firstElementChild;else if("End"===a.key)d=b.parentElement.lastElementChild;else return;if(d){var f=d.querySelector("button,a[href],[tabindex]");f&&(a.preventDefault(),F(f))}}}function P(a){return E(a.parentElement,"amp-nested-menu,[amp-nested-submenu]")}(function(a){a.registerElement("amp-nested-menu",G,"amp-nested-menu,amp-nested-menu [amp-nested-submenu]{position:absolute!important;top:0!important;width:100%!important;height:100%!important;margin:0!important;padding:0!important;transform:translateX(0)!important}amp-nested-menu.i-amphtml-layout-size-defined{overflow:visible!important}amp-nested-menu ol,amp-nested-menu ul{list-style-type:none;padding:0}amp-nested-menu [amp-nested-submenu-close],amp-nested-menu [amp-nested-submenu-open]{cursor:pointer}amp-nested-menu [amp-nested-submenu]{opacity:0!important;visibility:hidden!important;transition:transform 233ms,opacity 233ms,visibility 0s 233ms}amp-nested-menu,amp-nested-menu [amp-nested-submenu][open]{opacity:1!important;visibility:visible!important;transition:transform 233ms}amp-nested-menu [amp-nested-submenu][child-open],amp-nested-menu[child-open]{visibility:hidden!important;transition:transform 233ms,visibility 0s 233ms}amp-nested-menu[side=left] [amp-nested-submenu]{right:100%!important}amp-nested-menu[side=right] [amp-nested-submenu]{left:100%!important}amp-nested-menu[side=left] [amp-nested-submenu][child-open],amp-nested-menu[side=left][child-open]{transform:translateX(100%)!important}amp-nested-menu[side=right] [amp-nested-submenu][child-open],amp-nested-menu[side=right][child-open]{transform:translateX(-100%)!important}\n/*# sourceURL=/extensions/amp-nested-menu/0.1/amp-nested-menu.css*/")})(self.AMP)}});//# sourceMappingURL=amp-nested-menu-0.1.js.map