(self.AMP=self.AMP||[]).push({n:"amp-next-page",ev:"0.1",l:false,v:"2106040012000",m:0,f:function(AMP,_){"use strict";var q;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function r(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ca(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return d}return function(){throw Error("Cannot find global object")}()}var da=ca(this);"function"===typeof Symbol&&Symbol("x");var t;if("function"==typeof Object.setPrototypeOf)t=Object.setPrototypeOf;else{var ea;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;ea=ha.a;break a}catch(a){}ea=!1}t=ea?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=t;function ja(a){return a?Array.prototype.slice.call(a):[]}var u=Array.isArray;function ka(a,b){for(var c=[],d=0,e=0;e<a.length;e++){var f=a[e];b(f,e,a)?c.push(f):(d<e&&(a[d]=f),d++)}d<a.length&&(a.length=d);return c}function la(a,b){var c;"number"!==typeof c&&(c=0);return c+b.length>a.length?!1:-1!==a.indexOf(b,c)}var ma=Object.prototype,na=ma.hasOwnProperty,oa=ma.toString;function x(a){return a||{}}function pa(a){return 1==(null==a?void 0:a.nodeType)?a.tagName.toLowerCase()+(a.id?"#"+a.id:""):a}function qa(a,b,c,d){var e=void 0===c?"Assertion failed":c;if(!b){a&&!la(e,a)&&(e+=a);for(var f=3,g=e.split("%s"),h=g.shift(),k=[h];g.length;){var l=arguments[f++],m=g.shift();h+=pa(l)+m;k.push(l,m.trim())}f=Error(h);f.messageArray=ka(k,(function(w){return""!==w}));var n,p;null==(p=(n=self).__AMP_REPORT_ERROR)||p.call(n,f);throw f}}var ra=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function sa(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}}function y(a){var b=Object.create(null);if(!a)return b;for(var c;c=ra.exec(a);){var d=sa(c[1],c[1]);c=c[2]?sa(c[2].replace(/\+/g," "),c[2]):"";b[d]=c}return b}var ta="";function ua(){var a=self;if(a.__AMP_MODE)var b=a.__AMP_MODE;else{b=y(a.location.originalHash||a.location.hash);ta||(ta=a.AMP_CONFIG&&a.AMP_CONFIG.v?a.AMP_CONFIG.v:"012106040012000");var c=y(a.location.originalHash||a.location.hash);c=!(!["1","actions","amp","amp4ads","amp4email"].includes(c.development)&&!a.AMP_DEV_MODE);b=a.__AMP_MODE={localDev:!1,development:c,examiner:"2"==b.development,esm:!1,geoOverride:b["amp-geo"],minified:!0,test:!1,log:b.log,version:"2106040012000",rtvVersion:ta}}return b}function va(a,b){function c(){d=0;var g=500-(a.Date.now()-e);if(0<g)d=a.setTimeout(c,g);else{var h=f;f=null;b.apply(null,h)}}var d=0,e=0,f=null;return function(g){for(var h=[],k=0;k<arguments.length;++k)h[k-0]=arguments[k];e=a.Date.now();f=h;d||(d=a.setTimeout(c,500))}}var z=self.AMP_CONFIG||{},wa=("string"==typeof z.cdnProxyRegex?new RegExp(z.cdnProxyRegex):z.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function xa(a){if(!self.document||!self.document.head||self.location&&wa.test(self.location.origin))return null;var b=self.document.head.querySelector('meta[name="'+a+'"]');return b&&b.getAttribute("content")||null}var ya={thirdParty:z.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:z.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof z.thirdPartyFrameRegex?new RegExp(z.thirdPartyFrameRegex):z.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:z.cdnUrl||xa("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:wa,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:z.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:z.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:z.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:z.geoApiUrl||xa("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var A=self.__AMP_LOG;function B(){if(!A.user)throw Error("failed to call initLogConstructor");return A.user}function D(){if(A.dev)return A.dev;throw Error("failed to call initLogConstructor")}function E(a,b,c,d,e){B().assert(a,b,c,d,e,void 0,void 0,void 0,void 0,void 0,void 0)}var za;function F(){return za?za:za=Promise.resolve(void 0)}function Aa(){var a=this;this.promise=new Promise((function(b,c){a.resolve=b;a.reject=c}))}function Ba(a){var b=G;a=H(a);var c=I(a),d=J(c),e=d["position-observer"];e||(e=d["position-observer"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1});e.ctor||(e.ctor=b,e.context=a,e.sharedInstance=!1,e.resolve&&K(c,"position-observer"))}function L(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return K(a,b)}function M(a,b){var c=H(a);c=I(c);return K(c,b)}function N(a,b){a=H(a);a=I(a);return Ca(a,b)?K(a,b):null}function Da(a,b){a=I(a);var c=Ea(a,b);c?b=c:(a=J(a),a[b]=Fa(),b=a[b].promise);return b}function Ga(a,b){return Ea(I(a),b)}function H(a){return a.nodeType?L((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function I(a){a=H(a);return a.isSingleDoc()?a.win:a}function K(a,b){Ca(a,b);a=J(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Ea(a,b){var c=J(a)[b];if(c){if(c.promise)return c.promise;K(a,b);return c.promise=Promise.resolve(c.obj)}return null}function J(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function Ha(a){a=J(a);var c,b={};for(c in a){b.D=c;if(Object.prototype.hasOwnProperty.call(a,b.D)){var d=a[b.D];d.sharedInstance||(d.obj?Ia(b.D,d.obj):d.promise&&d.promise.then(function(e){return function(f){return Ia(e.D,f)}}(b)))}b={D:b.D}}}function Ia(a,b){if("function"==typeof b.dispose)try{b.dispose()}catch(c){D().error("SERVICE","failed to dispose service",a,c)}}function Ca(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}function Fa(){var a=new Aa,b=a.promise,c=a.reject;a=a.resolve;b.catch((function(){}));return{obj:null,promise:b,resolve:a,reject:c,context:null,ctor:null}}function Ja(a){if(a.__AMP__EXPERIMENT_TOGGLES)return a.__AMP__EXPERIMENT_TOGGLES;a.__AMP__EXPERIMENT_TOGGLES=Object.create(null);var b=a.__AMP__EXPERIMENT_TOGGLES;if(a.AMP_CONFIG)for(var c in a.AMP_CONFIG){var d=a.AMP_CONFIG[c];"number"===typeof d&&0<=d&&1>=d&&(b[c]=Math.random()<d)}var e,f=null==(e=a.AMP_CONFIG)?void 0:e["allow-doc-opt-in"];if(u(f)&&f.length){var g=a.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(g){var h=g.getAttribute("content").split(",");e=r(h);for(c=e.next();!c.done;c=e.next()){var k=c.value;f.includes(k)&&(b[k]=!0)}}}c=Object;e=c.assign;var l="";try{"localStorage"in a&&(l=a.localStorage.getItem("amp-experiment-toggles"))}catch(v){D().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}var m;l=(null==(m=l)?void 0:m.split(/\s*,\s*/g))||[];m=Object.create(null);l=r(l);for(var n=l.next();!n.done;n=l.next())(n=n.value)&&("-"==n[0]?m[n.substr(1)]=!1:m[n]=!0);e.call(c,b,m);var p,w=null==(p=a.AMP_CONFIG)?void 0:p["allow-url-opt-in"];if(u(w)&&w.length)for(a=y(a.location.originalHash||a.location.hash),p=r(w),c=p.next();!c.done;c=p.next())c=c.value,e=a["e-"+c],"1"==e&&(b[c]=!0),"0"==e&&(b[c]=!1);return b}var O,Ka="Webkit webkit Moz moz ms O o".split(" ");function P(a,b,c){var d=a.style;if(!b.startsWith("--")){O||(O=Object.create(null));var e=O[b];if(!e){e=b;if(void 0===d[b]){var f=b.charAt(0).toUpperCase()+b.slice(1);b:{for(var g=0;g<Ka.length;g++){var h=Ka[g]+f;if(void 0!==d[h]){f=h;break b}}f=""}void 0!==d[f]&&(e=f)}O[b]=e}b=e}b&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}function La(a,b){qa("​​​",a,"Object expected: %s",b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var Ma=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function Na(a,b,c,d,e){return e?e:b?"�":d?a.slice(0,-1)+"\\"+a.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+a}var Oa;function Q(a){/^[\w-]+$/.test(a)}function Pa(a,b){if(void 0!==Oa)var c=Oa;else{try{var d=a.ownerDocument,e=d.createElement("div"),f=d.createElement("div");e.appendChild(f);c=e.querySelector(":scope div")===f}catch(g){c=!1}c=Oa=c}c?a=a.querySelectorAll(b.replace(/^|,/g,"$&:scope ")):(a.classList.add("i-amphtml-scoped"),b=b.replace(/^|,/g,"$&.i-amphtml-scoped "),b=a.querySelectorAll(b),a.classList.remove("i-amphtml-scoped"),a=b);return a}function Qa(a){Q("separator");return Pa(a,"> [separator]")}function Ra(a,b){Q(b);return Pa(a,"> "+b)}function Sa(a){a.parentElement&&a.parentElement.removeChild(a)}function Ta(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)}function Ua(a,b,c){var d=Ga(a,b);if(d)return d;var e=H(a);return e.whenExtensionsKnown().then((function(){var f=e.getExtensionVersion(c);return f?L(e.win,"extensions").waitForExtension(c,f):null})).then((function(f){return f?Da(a,b):null}))}function Va(a){var b=N(a,"bind");return b?Promise.resolve(b):Ua(a,"bind","amp-bind")}function Wa(a){this.H=a.document.implementation.createHTMLDocument("");this.H.open();this.O=L(a,"vsync");this.sa=this.wa.bind(this);this.L=this.J=this.K=null;this.ca=!1;this.N=F();this.F=!1;this.V=null}q=Wa.prototype;q.onBody=function(a){this.K=a};q.onBodyChunk=function(a){this.J=a};q.onEnd=function(a){this.L=a};q.write=function(a){if(this.F)throw Error("closed already");a&&this.H.write(a);Xa(this);return this.N};q.close=function(){this.H.close();this.F=!0;Xa(this);return this.N};q.abort=function(){throw Error("Not implemented")};q.releaseLock=function(){throw Error("Not implemented")};function Xa(a){a.ca||(a.ca=!0,a.O.mutate(a.sa))}q.wa=function(){this.ca=!1;!this.V&&this.H.body&&(this.V=this.K(this.H));if(this.V){var a=this.H.body,b=this.V,c=0;for(Ya(a);a.firstChild;)c++,b.appendChild(a.firstChild);0<c&&this.J()}this.F&&this.L()};da.Object.defineProperties(Wa.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}}});function Za(a){this.ga=[];this.O=L(a,"vsync");this.L=this.J=this.K=null;this.N=F();this.F=!1}q=Za.prototype;q.onBody=function(a){this.K=a};q.onBodyChunk=function(a){this.J=a};q.onEnd=function(a){this.L=a};q.write=function(a){if(this.F)throw Error("closed already");a&&this.ga.push(a);return this.N};q.close=function(){var a=this;this.F=!0;this.O.mutate((function(){var b=a.ga.join(""),c=(new DOMParser).parseFromString(b,"text/html");if(c.body){b=c.body;c=a.K(c);var d=0;for(Ya(b);b.firstChild;)d++,c.appendChild(b.firstChild);0<d&&a.J()}a.L()}));return this.N};q.abort=function(){throw Error("Not implemented")};q.releaseLock=function(){throw Error("Not implemented")};da.Object.defineProperties(Za.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}}});function Ya(a){var b=Ra(a,"noscript");Ta(b,(function(c){Sa(c)}))}
/* Copyright (c) 2014 The Polymer Project Authors. All rights reserved. Use of this source code is governed by a BSD-style license that can be found in the LICENSE file or at https://developers.google.com/open-source/licenses/bsd */
var cb={strictStyling:!1,scopeRules:function(a,b,c){var d="";a&&Array.prototype.forEach.call(a,(function(e){if(e.selectorText&&e.style&&void 0!==e.style.cssText)d+=this.scopeSelector(e.selectorText,b,this.strictStyling,c)+" {\n\t",d+=this.propertiesFromRule(e)+"\n}\n\n";else if(e.type===CSSRule.MEDIA_RULE)d+="@media "+e.media.mediaText+" {\n",d+=this.scopeRules(e.cssRules,b),d+="\n}\n\n";else try{e.cssText&&(d+=e.cssText+"\n\n")}catch(f){e.type===CSSRule.KEYFRAMES_RULE&&e.cssRules&&(d+=this.ieSafeCssTextFromKeyFrameRule(e))}}),this);return d},ieSafeCssTextFromKeyFrameRule:function(a){var b="@keyframes "+a.name+" {";Array.prototype.forEach.call(a.cssRules,(function(c){b+=" "+c.keyText+" {"+c.style.cssText+"}"}));return b+=" }"},scopeSelector:function(a,b,c,d){var e=[];a.split(",").forEach((function(f){f=f.trim();d&&(f=d(f));this.selectorNeedsScoping(f,b)&&(f=c&&!f.match($a)?this.applyStrictSelectorScope(f,b):this.applySelectorScope(f,b));e.push(f)}),this);return e.join(", ")},selectorNeedsScoping:function(a,b){if(Array.isArray(b))return!0;var c=this.makeScopeMatcher(b);return!a.match(c)},makeScopeMatcher:function(a){a=a.replace(/\[/g,"\\[").replace(/\]/g,"\\]");return new RegExp("^("+a+")"+ab,"m")},applySelectorScope:function(a,b){return Array.isArray(b)?this.applySelectorScopeList(a,b):this.applySimpleSelectorScope(a,b)},applySelectorScopeList:function(a,b){for(var e,c=[],d=0;e=b[d];d++)c.push(this.applySimpleSelectorScope(a,e));return c.join(", ")},applySimpleSelectorScope:function(a,b){return a.match(bb)?(a=a.replace($a,b),a.replace(bb,b+" ")):b+" "+a},applyStrictSelectorScope:function(a,b){b=b.replace(/\[is=([^\]]*)\]/g,"$1");var c=[" ",">","+","~"],d=a,e="["+b+"]";c.forEach((function(f){d=d.split(f).map((function(g){var h=g.trim().replace(bb,"");h&&0>c.indexOf(h)&&0>h.indexOf(e)&&(g=h.replace(/([^:]*)(:*)(.*)/,"$1"+e+"$2$3"));return g})).join(f)}));return d},propertiesFromRule:function(a){var b=a.style.cssText;a.style.content&&!a.style.content.match(/['"]+|attr/)&&(b=b.replace(/content:[^;]*;/g,"content: '"+a.style.content+"';"));a=a.style;for(var c in a)"initial"===a[c]&&(b+=c+": initial; ");return b}},ab="([>\\s~+[.,{:][\\s\\S]*)?$",$a="-shadowcsshost-no-combinator",bb=/-shadowcsshost/gim;var db,eb;function fb(){void 0===eb&&(eb="none"!=gb()&&(jb(Element.prototype.attachShadow)||jb(Element.prototype.createShadowRoot)));return eb}function jb(a){return!!a&&-1!=a.toString().indexOf("[native code]")}function gb(){if(void 0===db){var a=Element;db=a.prototype.attachShadow?"v1":a.prototype.createShadowRoot?"v0":"none"}return db}function R(a,b,c,d){var e=a.getHeadNode();var f=(a=e.__AMP_CSS_TR)?a(b):b;a:{var g=c||!1,h=d||null;(b=e.__AMP_CSS_SM)||(b=e.__AMP_CSS_SM=Object.create(null));var k=!g&&h&&"amp-custom"!=h&&"amp-keyframes"!=h;if(a=g?"amp-runtime":k?"amp-extension="+h:null){var l=kb(e,b,a);if(l){l.textContent!==f&&(l.textContent=f);break a}}l=(e.ownerDocument||e).createElement("style");l.textContent=f;f=null;g?l.setAttribute("amp-runtime",""):k?(l.setAttribute("amp-extension",h||""),f=kb(e,b,"amp-runtime")):(h&&l.setAttribute(h,""),f=e.lastChild);g=f;(g=void 0===g?null:g)?e.insertBefore(l,g.nextSibling):e.insertBefore(l,e.firstChild);a&&(b[a]=l)}}function kb(a,b,c){return b[c]?b[c]:(a=a.querySelector("style["+c+"]"))?b[c]=a:null}function lb(a,b){a.__AMP_CSS_TR=b}var ob,mb=/[^\.\-_0-9a-zA-Z]/,nb=/[^\-_0-9a-zA-Z]/;function pb(a){var b=a.ownerDocument.defaultView,c=a.shadowRoot||a.__AMP_SHADOW_ROOT;if(c)return c.innerHTML="",c;var d=gb();if("v1"==d){var e=a.attachShadow({mode:"open"});e.styleSheets||Object.defineProperty(e,"styleSheets",{get:function(){var g=[];Ta(e.childNodes,(function(h){"STYLE"===h.tagName&&g.push(h.sheet)}));return g}})}else e="v0"==d?a.createShadowRoot():qb(a);if(!fb()){var f="i-amphtml-sd-"+b.Math.floor(1e4*b.Math.random());e.id=f;e.host.classList.add(f);lb(e,(function(g){var h=e,k=h.id;h=h.ownerDocument;var l=null;try{l=rb(h.implementation.createHTMLDocument(""),g)}catch(m){}if(!l)try{l=rb(h,g)}catch(m){}return l?cb.scopeRules.call(cb,l,"."+k,sb):g}))}return e}function qb(a){var b=a.ownerDocument;a.classList.add("i-amphtml-shadow-host-polyfill");var c=b.createElement("style");c.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}";a.appendChild(c);var d=b.createElement("i-amphtml-shadow-root");a.appendChild(d);a.__AMP_SHADOW_ROOT=d;Object.defineProperty(a,"shadowRoot",{enumerable:!0,configurable:!0,value:d});d.host=a;d.getElementById=function(e){var f=String(e).replace(Ma,Na);return d.querySelector("#"+f)};Object.defineProperty(d,"styleSheets",{get:function(){return b.styleSheets?ja(b.styleSheets).filter((function(e){return d.contains(e.ownerNode)})):[]}});return d}function tb(a,b,c){var d=a.ownerDocument;if(fb())var e=d.importNode(b,c);else{e=d.createElement("amp-body");e.style.display="block";for(var f=0;f<b.attributes.length;f++)e.setAttribute(b.attributes[0].name,b.attributes[0].value);if(c)for(b=b.firstChild;b;b=b.nextSibling)e.appendChild(d.importNode(b,!0))}P(e,"position","relative");var g=a.body;g&&a.removeChild(g);a.appendChild(e);Object.defineProperty(a,"body",{configurable:!0,value:e});return e}function sb(a){return a.replace(/(html|body)/g,ub)}function ub(a,b,c,d){var e=d.charAt(c-1),f=d.charAt(c+a.length);return e&&!mb.test(e)||f&&!nb.test(f)?a:"amp-"+a}function rb(a,b){var c=a.createElement("style");c.textContent=b;try{return(a.head||a.documentElement).appendChild(c),c.sheet?c.sheet.cssRules:null}finally{c.parentNode&&c.parentNode.removeChild(c)}}function vb(a){void 0===ob&&(ob=!a.document.implementation||"function"!=typeof a.document.implementation.createHTMLDocument||L(a,"platform").isFirefox()?!1:!0);return ob?new Wa(a):new Za(a)}function S(){this.ua=100;this.Y=this.da=0;this.R=Object.create(null)}S.prototype.has=function(a){return!!this.R[a]};S.prototype.get=function(a){var b=this.R[a];if(b)return b.access=++this.Y,b.payload};S.prototype.put=function(a,b){this.has(a)||this.da++;this.R[a]={payload:b,access:this.Y};if(!(this.da<=this.ua)){a=this.R;var d,c=this.Y+1;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.da--)}};var xb,yb,wb=x({c:!0,v:!0,a:!0,ad:!0}),zb=/[?&]amp_js[^&]*/,Ab=/[?&]amp_gsa[^&]*/,Bb=/[?&]amp_r[^&]*/,Cb=/[?&]amp_kit[^&]*/,Db=/[?&]usqp[^&]*/;function T(a){xb||(xb=self.document.createElement("a"),yb=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new S));var b=yb,c=xb;if(b&&b.has(a))a=b.get(a);else{c.href=a;c.protocol||(c.href=c.href);var d={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;d.origin=c.origin&&"null"!=c.origin?c.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;b&&b.put(a,d);a=d}return a}function Eb(a,b){var c=void 0===c?"source":c;E(null!=a,"%s %s must be available",b,c);var d=a;"string"==typeof d&&(d=T(d));var e;(e="https:"==d.protocol||"localhost"==d.hostname||"127.0.0.1"==d.hostname)||(d=d.hostname,e=d.length-10,e=0<=e&&d.indexOf(".localhost",e)==e);E(e||/^(\/\/)/.test(a),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,a)}function Fb(a){"string"==typeof a&&(a=T(a));return ya.cdnProxyRegex.test(a.origin)}function Gb(a){"string"==typeof a&&(a=T(a));if(!Fb(a))return a.href;var b=a.pathname.split("/");E(wb[b[1]],"Unknown path prefix in url %s",a.href);var c=b[2],d="s"==c?"https://"+decodeURIComponent(b[3]):"http://"+decodeURIComponent(c);E(0<d.indexOf("."),"Expected a . in origin %s",d);b.splice(1,"s"==c?3:2);b=d+b.join("/");d=(d=a.search)&&"?"!=d?(d=d.replace(zb,"").replace(Ab,"").replace(Bb,"").replace(Cb,"").replace(Db,"").replace(/^[?&]/,""))?"?"+d:"":"";return b+d+(a.hash||"")}function U(a,b,c,d){this.win=a;this.qa=b;this.va=c;this.ea=d;this.I=[]}U.prototype.P=function(a,b,c,d){var e=this;c=c||Object.create(null);Hb(this);P(a,"visibility","hidden");var f=pb(a);f.AMP&&(B().warn("multidoc-manager","Shadow doc wasn't previously closed"),Ib(this,f));var g={};f.AMP=g;g.url=b;var h=T(b).origin,k=this.qa.installShadowDoc(b,f,{params:c});g.ampdoc=k;D().fine("multidoc-manager","Attach to shadow root:",f,k);R(k,AMP.combinedCss,!0);AMP.installAmpdocServices(k);var l=M(k,"viewer");g.setVisibilityState=function(n){k.overrideVisibilityState(n)};g.postMessage=l.receiveMessage.bind(l);var m;g.onMessage=function(n){m=n};l.setMessageDeliverer((function(n,p,w){if("broadcast"==n)return Jb(e,p,f),w?F():void 0;if(m)return m(n,p,w)}),h);g.close=function(){return Ib(e,f)};ua().development&&(g.toggleRuntime=l.toggleRuntime.bind(l),g.resources=M(k,"resources"));g.getState=function(n){return Va(f).then((function(p){return p?p.getState(n):Promise.reject("amp-bind is not available in this document")}))};g.setState=function(n){return Va(f).then((function(p){return p?"string"===typeof n?p.setStateWithExpression(n,{}):"[object Object]"===oa.call(n)||u(n)?p.setStateWithObject(n):Promise.reject("Invalid state"):Promise.reject("amp-bind is not available in this document")}))};d(g,f,k).then((function(){k.setReady();k.signals().signal("render-start");P(a,"visibility","visible")}));this.I.includes(f)||this.I.push(f);D().fine("multidoc-manager","Shadow root initialization is done:",f,k);return g};U.prototype.attachShadowDoc=function(a,b,c,d){var e=this;B().assertString(c);D().fine("multidoc-manager","Attach shadow doc:",b);return this.P(a,c,d,(function(f,g,h){Kb(e,h,g,b);b.body&&(f=tb(g,b.body,!0),f.classList.add("amp-shadow"),h.setBody(f));setTimeout((function(){h.signals().signal("render-start");P(a,"visibility","visible")}),50);return F()}))};U.prototype.attachShadowDocAsStream=function(a,b,c){var d=this;B().assertString(b);D().fine("multidoc-manager","Attach shadow doc as stream");return this.P(a,b,c,(function(e,f,g){var h=!1,k=vb(d.win);e.writer=k;k.onBody((function(l){Kb(d,g,f,l);l=tb(f,l.body,!1);l.classList.add("amp-shadow");g.setBody(l);return l}));k.onBodyChunk((function(){h||(h=!0,setTimeout((function(){g.signals().signal("render-start");P(a,"visibility","visible")}),50))}));return new Promise((function(l){k.onEnd((function(){l();e.writer=null}))}))}))};function Kb(a,b,c,d){if(d.head){c.AMP.head=d.head;for(var e={},f=Ra(a.win.document.head,"link"),g=0;g<f.length;g++){var h=f[g].getAttribute("href");h&&(e[h]=!0)}for(d=d.head.firstElementChild;d;d=d.nextElementSibling){g=d.tagName;var k=d.getAttribute("name"),l=d.getAttribute("rel");switch(g){case"TITLE":c.AMP.title=d.textContent;D().fine("multidoc-manager","- set title: ",c.AMP.title);break;case"META":d.hasAttribute("charset")||"viewport"!=k&&(k?b.setMetaByName(k,d.getAttribute("content")||""):D().warn("multidoc-manager","meta ignored: ",d));break;case"LINK":g=d.getAttribute("href");"canonical"==l?(c.AMP.canonicalUrl=g,D().fine("multidoc-manager","- set canonical: ",c.AMP.canonicalUrl)):"stylesheet"==l?e[g]?(D().fine("multidoc-manager","- stylesheet already included: ",g),R(b,'@import "'+g+'"',!1)):(e[g]=!0,k=a.win.document.createElement("link"),k.setAttribute("rel","stylesheet"),k.setAttribute("type","text/css"),k.setAttribute("href",g),a.win.document.head.appendChild(k),D().fine("multidoc-manager","- import font to parent: ",g,k)):D().fine("multidoc-manager","- ignore link rel=",l);break;case"STYLE":d.hasAttribute("amp-boilerplate")?D().fine("multidoc-manager","- ignore boilerplate style: ",d):d.hasAttribute("amp-custom")?(R(b,d.textContent,!1,"amp-custom"),D().fine("multidoc-manager","- import style: ",d)):d.hasAttribute("amp-keyframes")&&(R(b,d.textContent,!1,"amp-keyframes"),D().fine("multidoc-manager","- import style: ",d));break;case"SCRIPT":if(d.hasAttribute("src")){D().fine("multidoc-manager","- src script: ",d);g=d.getAttribute("src");if(g){var m=g.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i);k=m?m[2]:void 0;m=m?m[3]:void 0;k=k&&m?{extensionId:k,extensionVersion:m}:null}else k=null;var n=d.getAttribute("custom-element"),p=d.getAttribute("custom-template");m=n||p;k?m?a.va.installExtensionForDoc(b,m,k.extensionVersion):d.hasAttribute("data-amp-report-test")||B().error("multidoc-manager","- unknown script: ",d,g):D().fine("multidoc-manager","- ignore runtime script: ",g)}else-1==(d.getAttribute("type")||"application/javascript").indexOf("javascript")?(c.appendChild(a.win.document.importNode(d,!0)),D().fine("multidoc-manager","- non-src script: ",d)):d.hasAttribute("amp-onerror")||B().error("multidoc-manager","- unallowed inline javascript: ",d);break;case"NOSCRIPT":break;default:B().error("multidoc-manager","- UNKNOWN head element:",d)}}}b.setExtensionsKnown()}function Jb(a,b,c){Hb(a);a.I.forEach((function(d){if(d!=c){var e=M(d.AMP.ampdoc,"viewer");a.ea.delay((function(){e.receiveMessage("broadcast",b,!1)}),0)}}))}function Ib(a,b){Lb(a,b);var c=b.AMP;delete b.AMP;var d=c.ampdoc;d.overrideVisibilityState("inactive");Ha(d);return a.ea.timeoutPromise(15,new a.win.Promise((function(e){Ga(d,"resources").then((function(f){if(f)f.onNextPass(e);else e()}))})),"Timeout reached waiting for visibility state change callback").catch((function(e){B().info("multidoc-manager",e)}))}function Lb(a,b){b=a.I.indexOf(b);-1!=b&&a.I.splice(b,1)}function Mb(a,b){a.ea.delay((function(){Ib(a,b)}),0)}function Hb(a){a.I.forEach((function(b){var c;if(!(c=!b.host)){c=b.host;var d=c.isConnected;if(void 0!==d)c=d;else{do{if(Node.prototype.getRootNode)c=c.getRootNode()||c;else for(;c.parentNode&&(!c||"I-AMPHTML-SHADOW-ROOT"!=c.tagName&&(11!=c.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(c)));c=c.parentNode);if(c.host)c=c.host;else break}while(1);c=c.nodeType===Node.DOCUMENT_NODE}c=!c}c&&(B().warn("multidoc-manager","Shadow doc wasn't previously closed"),Lb(a,b),Mb(a,b))}))}function Nb(a,b){return{left:0,top:0,width:a,height:b,bottom:0+b,right:0+a,x:0,y:0}}function Ob(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1}function Pb(a,b,c,d){this.element=b;this.ha=d;this.fidelity=c;this.turn=0==c?Math.floor(4*Math.random()):0;this.U=null;this.h=M(a,"viewport")}Pb.prototype.update=function(a){var b=this;if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var c=this.h.getSize(),d=Nb(c.width,c.height);this.h.getClientRectAsync(this.element).then((function(e){var f={positionRect:e,viewportRect:d,relativePos:null},g=b.U;if(!(g&&Ob(g.positionRect,f.positionRect)&&Ob(g.viewportRect,f.viewportRect))){g=f.positionRect;var h=f.viewportRect;f.relativePos=g.top<h.top?"top":g.bottom>h.bottom?"bottom":"inside";h=f.viewportRect;g.top<=h.bottom&&h.top<=g.bottom&&g.left<=h.right&&h.left<=g.right?(b.U=f,b.ha(f)):b.U&&(b.U=null,f.positionRect=null,b.ha(f))}}))};function G(a){var b=this;this.ra=a;this.j=a.win;this.o=[];this.O=L(this.j,"vsync");this.h=M(a,"viewport");this.W=[];this.$=this.ba=this.aa=!1;this.ta=va(this.j,(function(){b.aa=!1}))}G.prototype.observe=function(a,b,c){var d=this,e=new Pb(this.ra,a,b,c);this.o.push(e);this.$||Qb(this);e.update();return function(){for(var f=0;f<d.o.length;f++)if(d.o[f]==e){d.o.splice(f,1);0==d.o.length&&Rb(d);break}}};G.prototype.unobserve=function(a){for(var b=0;b<this.o.length;b++)if(this.o[b].element==a){this.o.splice(b,1);0==this.o.length&&Rb(this);return}D().error("POSITION_OBSERVER","cannot unobserve unobserved element")};function Qb(a){a.$=!0;a.W.push(a.h.onScroll((function(){a.ta();a.aa=!0;a.ba||Sb(a)})));a.W.push(a.h.onResize((function(){a.updateAllEntries(!0)})))}function Rb(a){for(a.$=!1;a.W.length;)a.W.pop()()}G.prototype.updateAllEntries=function(a){for(var b=0;b<this.o.length;b++)this.o[b].update(a)};function Sb(a){a.updateAllEntries();a.ba=!0;a.aa?a.O.measure((function(){Sb(a)})):a.ba=!1}function Tb(a,b,c){c=void 0===c?{}:c;var d=void 0===d?!0:d;var e=c;Ua(a,"amp-analytics-instrumentation","amp-analytics").then((function(f){f&&f.triggerEventForTarget(a,b,e,d)}))}function V(){this.ka=this.la=this.oa=this.A=this.pa=this.T=this.j=null;this.G=0;this.S=!1;this.M=this.h=this.ma=null;this.B=[];this.Z=null;this.fa=function(){};this.X=null;this.na="";this.ja=null}V.prototype.isActive=function(){return null!==this.A};V.prototype.register=function(a,b,c){var d=this;if(!this.isActive()){var e=H(a),f=e.win;this.A=b;this.j=f;this.oa=c||Ub(this);this.T=a;this.pa=L(f,"xhr");this.A.hideSelectors&&(this.ia=this.A.hideSelectors.join(","));this.ma=M(e,"navigation");this.h=M(e,"viewport");this.la=M(e,"mutator");this.ka=new U(f,L(f,"ampdoc"),L(f,"extensions"),K(f,"timer"));this.X=N(this.T,"url");this.na=this.X.parse(e.getUrl()).origin;this.ja=M(e,"history");Ba(e);this.M=M(a,"position-observer");var g=M(e,"documentInfo").get().canonicalUrl,h=Vb(f.document.location.href,f.document.title,g);h.amp={ampdoc:e,url:f.document.location.href,title:f.document.title,canonicalUrl:g};this.B.push(h);this.Z=this.B[0];this.h.onScroll((function(){return W(d)}));this.h.onResize((function(){return W(d)}));W(this)}};V.prototype.setAppendPageHandler=function(a){this.fa=a};V.prototype.P=function(a,b){if(this.ia)for(var c=b.querySelectorAll(this.ia),d=0;d<c.length;d++)c[d].classList.add("i-amphtml-next-page-hidden");c=b.querySelectorAll("amp-analytics");for(d=0;d<c.length;d++)Sa(c[d]);a=this.ka.attachShadowDoc(a,b,"",{visibilityState:"prerender"});b=a.ampdoc;R(b,".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/",!1,"amp-next-page");b.getBody().classList.add("i-amphtml-next-page-document");return a};function Wb(a){var b=a.j.document.createElement("div");b.classList.add("i-amphtml-next-page-measurer");return b}function Ub(a){a=a.j.document.createElement("div");a.classList.add("amp-next-page-default-separator");return a}function Xb(a){if(a.G<a.A.pages.length){var b=a.A.pages[a.G],c=Vb(b.ampUrl);a.B.push(c);var d=a.j.document.createElement("div"),e=Wb(a);d.appendChild(e);var f=a.oa.cloneNode(!0);f.removeAttribute("separator");d.appendChild(f);var g=Yb(a,a.G);d.appendChild(g);c.recUnit.el=g;var h=a.j.document.createElement("div");d.appendChild(h);var k=a.G;a.fa(d).then((function(){a.M.observe(e,0,(function(l){if(l&&null===l.positionRect){var m=a.B[k],n="";switch(l.relativePos){case"top":m=a.B[k+1];n="amp-next-page-scroll";break;case"bottom":n="amp-next-page-scroll-back"}m&&m.amp&&(Zb(a,n,m.ampUrl,a.Z.ampUrl),$b(a,m))}}));a.M.observe(g,0,(function(){c.cancelled=!0;c.recUnit.isObserving&&(a.M.unobserve(c.recUnit.el),c.recUnit.isObserving=!1)}))}));2<=a.G||(a.G++,a.pa.fetch(b.ampUrl,{ampCors:!1}).then((function(l){c.ampUrl=l.url;var m=a.X.parse(l.url);E(m.origin===a.na,"ampUrl resolved to a different origin from the origin of the current document");return l.text()})).then((function(l){var m=a.j.document.implementation.createHTMLDocument("");m.open();m.write(l);m.close();return m})).then((function(l){return new Promise((function(m,n){c.cancelled?m():(c.recUnit.isObserving&&(a.M.unobserve(g),c.recUnit.isObserving=!0),a.la.mutateElement(d,(function(){try{c.amp=a.P(h,l);var p=c.recUnit.el,w=!1;void 0===w&&(w=p.hasAttribute("hidden"));w?p.removeAttribute("hidden"):p.setAttribute("hidden","");a.S=!1;m()}catch(v){n(v)}})))}))}),(function(l){return B().error("amp-next-page","failed to fetch %s",b.ampUrl,l)})).catch((function(l){return D().error("amp-next-page","failed to attach shadow document for %s",b.ampUrl,l)})).then((function(){return W(a)})))}}function Yb(a,b){var c=a.j.document,d=b-1,e=b,f="";0<b&&(f=a.B[d].ampUrl);var g=c.createElement("div");g.classList.add("amp-next-page-links");for(var h={};e<a.A.pages.length&&3>e-b;){h.C=a.A.pages[e];e++;var k=c.createElement("a");k.href=h.C.ampUrl;k.classList.add("i-amphtml-reco-holder-article","amp-next-page-link");k.addEventListener("click",function(n){return function(p){Zb(a,"amp-next-page-click",n.C.ampUrl,f);a.ma.navigateToAmpUrl(n.C.ampUrl,"content-discovery")&&p.preventDefault()}}(h));var l=c.createElement("div");l.classList.add("i-amphtml-next-article-image","amp-next-page-image");P(l,"background-image","url("+h.C.image+")");k.appendChild(l);var m=c.createElement("div");m.classList.add("i-amphtml-next-article-title","amp-next-page-text");m.textContent=h.C.title;k.appendChild(m);g.appendChild(k);h={C:h.C}}return g}function W(a){if(!a.S){var b=a.h.getSize(),c=Nb(b.width,b.height);a.h.getClientRectAsync(a.T).then((function(d){!a.S&&d.bottom-c.bottom<3*b.height&&(a.S=!0,Xb(a))}))}}function $b(a,b){a.B.forEach((function(c){var d=c.amp;if(c===b){a.j.document.title=d.title||"";a.Z=c;var e=c.amp;d=e.canonicalUrl;e=e.title;var f=a.X.parse(c.ampUrl);a.ja.replace({title:e,url:f.pathname+f.search,canonicalUrl:d});ac(a,c,"visible")}else ac(a,c,"hidden")}))}function ac(a,b,c){b!==a.B[0]&&(a=b.amp&&b.amp.ampdoc)&&(a.hasBeenVisible()||"hidden"!=c)&&b.amp.setVisibilityState(c)}function Zb(a,b,c,d){d=d||"";var e=x({toURL:c,fromURL:d});Tb(a.T,b,e)}function Vb(a,b,c){return{ampUrl:a,amp:b||c?{title:b,canonicalUrl:c}:null,recUnit:{el:null,isObserving:!1},cancelled:!1}}function bc(a,b){var c={urlReplacement:2};c=void 0===c?{}:c;var d=void 0===c.expr?".":c.expr,e=void 0===c.urlReplacement?0:c.urlReplacement,f=void 0===c.refresh?!1:c.refresh,g=void 0===c.xssiPrefix?void 0:c.xssiPrefix;Eb(b.getAttribute("src"),b);var h=L(a.win,"batched-xhr");return cc(b,e,f).then((function(k){return h.fetchJson(k.xhrUrl,k.fetchOpt)})).then((function(k){return L(a.win,"xhr").xssiJson(k,g)})).then((function(k){if(null==k)throw Error("Response is undefined.");var l=d||".";if("."!=l){l=l.split(".");l=r(l);for(var m=l.next();!m.done;m=l.next())if((m=m.value)&&k&&void 0!==k[m]&&"object"==typeof k&&na.call(k,m))k=k[m];else{k=void 0;break}}return k})).catch((function(k){throw B().createError("failed fetching JSON data",k)}))}function cc(a,b,c){var d=a.getAttribute("src"),e=N(a,"url-replace");return(1<=b?e.expandUrlAsync(d):Promise.resolve(d)).then((function(f){if(1==b){var g=e.collectDisallowedVarsSync(a);if(0<g.length)throw B().createError('URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. Please add data-amp-replace="'+g.join(" ")+'" to the <'+a.tagName+"> element. See https://bit.ly/amp-var-subs.")}var h={};a.hasAttribute("credentials")&&(h.credentials=a.getAttribute("credentials"));c&&(h.cache="reload");return{xhrUrl:f,fetchOpt:h}}))}function dc(a,b,c){E(b,"amp-next-page config must be specified");E(u(b.pages),"pages must be an array");ec(a,b.pages,c);"hideSelectors"in b&&(E(u(b.hideSelectors),"amp-next-page hideSelectors should be an array"),fc(b.hideSelectors));return b}function ec(a,b,c){b.forEach((function(d){B().assertString(d.ampUrl,"ampUrl must be a string");var e=Gb(c),f=d.ampUrl;"string"==typeof e&&(e=T(e));if("function"==typeof URL)f=new URL(f,e.href).toString();else{"string"==typeof e&&(e=T(e));f=f.replace(/\\/g,"/");var g=T(f);f=f.toLowerCase().startsWith(g.protocol)?g.href:f.startsWith("//")?e.protocol+f:f.startsWith("/")?e.origin+f:e.origin+e.pathname.replace(/\/[^/]*$/,"/")+f}d.ampUrl=f;e=N(a,"url");f=e.parse(d.ampUrl);e=e.parse(c).origin;g=T(Gb(c)).origin;var h;(h=f.origin===e||f.origin===g)||((h=f.search.match(/adurl=(.*)(?:&|$)/))?(h=N(a,"url").parse(h[1]),h="https://googleads.g.doubleclick.net"===f.origin&&h.origin===e):h=!1);E(h,"pages must be from the same origin as the current document");B().assertString(d.image,"image must be a string");B().assertString(d.title,"title must be a string");g!==e&&f.origin===g&&(d.ampUrl=e+"/c/"+("https:"===f.protocol?"s/":"")+encodeURIComponent(f.host)+f.pathname+(f.search||"")+(f.hash||""))}))}var gc=[/(^|\W)i-amphtml-/];function fc(a){a.forEach((function(b){gc.forEach((function(c){B().assertString(b,"amp-next-page hideSelector value should be a string");E(!c.test(b),"amp-next-page hideSelector %s not allowed",b)}))}))}var hc=["GET","POST"];function ic(a,b){var c=Object.assign({},b),d=b.body;if(d&&"function"==typeof d.getFormData){var e=b.body;c.headers["Content-Type"]="multipart/form-data;charset=utf-8";b=e.entries();d=[];for(var f=b.next();!f.done;f=b.next())d.push(f.value);c.body=d}return{input:a,init:c}}function jc(a,b){La("[object Object]"===oa.call(a),a);if("document"!=b)return new Response(a.body,a.init);var c=Object.create(null),d={status:200,statusText:"OK",getResponseHeader:function(f){return c[String(f).toLowerCase()]||null}};if(a.init){var e=a.init;u(e.headers)&&e.headers.forEach((function(f){var g=f[1];c[String(f[0]).toLowerCase()]=String(g)}));e.status&&(d.status=parseInt(e.status,10));e.statusText&&(d.statusText=String(e.statusText))}return new Response(a.body?String(a.body):"",d)}function kc(a,b,c,d){if(!b)return F();var e=d.prerenderSafe?F():b.whenFirstVisible(),f=M(b,"viewer"),g=Fb(c),h=f.hasCapability("xhrInterceptor"),k=d.bypassInterceptorForDev&&!1;return g||!h||k||!b.getRootNode().documentElement.hasAttribute("allow-xhr-interception")?e:e.then((function(){return f.isTrustedViewer()})).then((function(l){if(l||Ja(a)["untrusted-xhr-interception"]){var m=x({originalRequest:ic(c,d)});return f.sendMessageAwaitResponse("xhr",m).then((function(n){return jc(n,d.responseType)}))}}))}function lc(a,b,c){!1!==c.ampCors&&(c=T(b),c=y(c.search),E(!("__amp_source_origin"in c),"Source origin is not allowed in %s",b),a=T(Gb(a.location.href)).origin,a=encodeURIComponent("__amp_source_origin")+"="+encodeURIComponent(a),a&&(b=b.split("#",2),c=b[0].split("?",2),a=c[0]+(c[1]?"?"+c[1]+"&"+a:"?"+a),b=a+=b[1]?"#"+b[1]:""));return b}function mc(a){a=a||{};var b=a.method;void 0===b?b="GET":(b=b.toUpperCase(),hc.includes(b));a.method=b;a.headers=a.headers||x({});a.headers.Accept="text/html";return a}function nc(a,b,c){c=c||{};var d=a.origin||T(a.location.href).origin;a=T(b).origin;d==a&&(c.headers=c.headers||{},c.headers["AMP-Same-Origin"]="true");return c}function oc(a){return new Promise((function(b){if(a.ok)return b(a);b=a.status;var c=B().createError("HTTP error "+b);c.retriable=415==b||500<=b&&600>b;c.response=a;throw c}))}function pc(a,b,c){var d=mc(c);d=nc(a,b,d);b=lc(a,b,d);c=L(a,"ampdoc");c=c.isSingleDoc()?c.getSingleDoc():null;d.responseType="document";return kc(a,c,b,d).then((function(e){return e?e.text().then((function(f){return(new DOMParser).parseFromString(f,"text/html")})):qc(b,d).then((function(f){return f.xhr.responseXML}))}))}function qc(a,b){return new Promise((function(c,d){var e=new XMLHttpRequest;e.open(b.method||"GET",a,!0);e.withCredentials="include"==b.credentials;e.responseType="document";for(var f in b.headers)e.setRequestHeader(f,b.headers[f]);e.onreadystatechange=function(){if(!(2>e.readyState))if(100>e.status||599<e.status)e.onreadystatechange=null,d(B().createExpectedError("Unknown HTTP status "+e.status));else if(4==e.readyState){var g={status:e.status,statusText:e.statusText,headers:rc(e.getAllResponseHeaders())};g=new Response("",g);g=oc(g).then((function(h){return{response:h,xhr:e}}));c(g)}};e.onerror=function(){d(B().createExpectedError("Request failure"))};e.onabort=function(){d(B().createExpectedError("Request aborted"))};"POST"==b.method?e.send(b.body):e.send()}))}function rc(a){var b=x({});a.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(c){var d=c.split(":"),e=d.shift().trim();e&&(d=d.join(":").trim(),b[e]=d)}));return b}function sc(a,b){var c=b=void 0===b?"default":b;return Ua(a,"consentPolicyManager","amp-consent").then((function(d){return d?d.whenPolicyResolved(c):null}))}function tc(a,b){try{return JSON.parse(a)}catch(c){return null==b||b(c),null}}function X(){return AMP.BaseElement.apply(this,arguments)||this}var Y=AMP.BaseElement;X.prototype=ba(Y.prototype);X.prototype.constructor=X;if(ia)ia(X,Y);else for(var Z in Y)if("prototype"!=Z)if(Object.defineProperties){var uc=Object.getOwnPropertyDescriptor(Y,Z);uc&&Object.defineProperty(X,Z,uc)}else X[Z]=Y[Z];X.xa=Y.prototype;X.prototype.isLayoutSupported=function(a){return"container"==a};X.prototype.buildCallback=function(){var a=this;E(!!Ja(this.win)["amp-next-page"],"Experiment amp-next-page disabled");var b=Qa(this.element);E(1>=b.length,"%s should contain at most one <div separator> child","amp-next-page");var c=null;1===b.length&&(c=b[0],Sa(c));return Da(this.getAmpDoc(),"next-page").then((function(d){if(!d.isActive()){var e=a.element;e.classList.add("i-amphtml-next-page");var f=e.hasAttribute("deep-parsing")?"deep-parsing":e.hasAttribute("xssi-prefix")?"xssi-prefix":e.hasAttribute("max-pages")?"max-pages":null;f&&vc(f);var g=e.getAttribute("src"),h=Promise.resolve([]),k=e.getAttribute("type");if(k){E("adsense"===k,"amp-next-page only supports type=adsense");var l=e.getAttribute("data-client"),m=e.getAttribute("data-slot");E(/^ca-pub-\d+$/.test(l),"amp-next-page AdSense client should be of the format 'ca-pub-123456'");E(/^\d+$/.test(m),"amp-next-page AdSense slot should be a number");var n=a.getConsentPolicy();h=(n?sc(e,n).catch((function(v){B().error("amp-next-page","Error determining consent state",v);return 4})):Promise.resolve(1)).then((function(v){return wc(a,l,m,1===v||3===v)})).catch((function(v){B().warn("amp-next-page","error fetching recommendations from AdSense",v);return[]}))}var p=xc(a);var w=g?yc(a).catch((function(v){return B().error("amp-next-page","error fetching config",v)})):Promise.resolve(p);p&&(g||k)&&vc("mixing configuration types");E(p||g||k,"%s should contain a <script> child, a URL specified in [src], or a [type]","amp-next-page");return Promise.all([w,h]).then((function(v){var C=v[0]||{};C.pages=(v[1]||[]).concat(C.pages||[]);zc(a,d,C,c)}))}}))};function xc(a){var b=Ra(a.element,"SCRIPT");if(!b.length)return null;E(1===b.length,"amp-next-page should contain at most one <script> child");a=b[0];E("SCRIPT"==a.tagName&&a.hasAttribute("type")&&"APPLICATION/JSON"==a.getAttribute("type").toUpperCase(),'amp-next-page config should be inside a <script> tag with type="application/json"');return tc(a.textContent,(function(c){B().error("amp-next-page","failed to parse config",c)}))}function wc(a,b,c,d){var e="https://googleads.g.doubleclick.net/pagead/ads?client="+b+"&slotname="+c+"&url="+encodeURIComponent(a.getAmpDoc().getUrl())+"&ecr=1&crui=title&is_amp=3&output=xml";return pc(a.win,e,{credentials:d?"include":"omit"}).then((function(f){var g=N(a.element,"url"),h=g.parse(a.getAmpDoc().getUrl()).origin,k=[],l=f.getElementsByTagName("AD");for(f=0;f<l.length;f++){var m=l[f];Q("LINE1");var n=m.querySelector("LINE1");Q("MEDIA_TEMPLATE_DATA");var p=m.querySelector("MEDIA_TEMPLATE_DATA"),w=m.getAttribute("visible_url"),v=m.getAttribute("url"),C=n;C=(C&&C.textContent||"").trim();try{var hb=JSON.parse(p.textContent.trim().slice(0,-1))[0].core_image_url}catch(Bc){hb=""}var ib=hb;g.parse(w).origin===h&&v&&C&&ib&&k.push({title:C,image:ib,ampUrl:v})}return k}))}function zc(a,b,c,d){var e=a.element,f=dc(e,c,a.getAmpDoc().getUrl());b.register(e,f,d);b.setAppendPageHandler((function(g){return Ac(a,g)}))}function Ac(a,b){return a.mutateElement((function(){return a.element.appendChild(b)}))}function yc(a){var b=a.getAmpDoc();return bc(b,a.element)}function vc(a){B().warn("amp-next-page",a+" is a feature of amp-next-page 1.0, please update your version to use it")}(function(a){var b=new V;a.registerServiceForDoc("next-page",(function(){return b}));a.registerElement("amp-next-page",X,".amp-next-page-default-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.12)}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-text{color:#3c4043;font-size:17px}.i-amphtml-next-page-document{overflow-y:hidden}.i-amphtml-next-page-document>[i-amphtml-fixedid]{display:none}.i-amphtml-next-page-hidden{display:none!important}.i-amphtml-next-page{background:#fff}.i-amphtml-next-page>[separator]{display:none}.i-amphtml-reco-holder-article{display:block;overflow:auto;padding:10px 0;text-decoration:none}.i-amphtml-next-article-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.i-amphtml-next-article-title{position:relative;margin:5px 30px 5px 0}\n/*# sourceURL=/extensions/amp-next-page/0.1/amp-next-page.css*/")})(self.AMP)}});//# sourceMappingURL=amp-next-page-0.1.js.map