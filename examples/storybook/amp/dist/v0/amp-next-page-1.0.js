(self.AMP=self.AMP||[]).push({n:"amp-next-page",ev:"1.0",l:true,v:"2106040012000",m:0,f:function(AMP,_){"use strict";var m;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b};function ca(a){for(var b=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],c=0;c<b.length;++c){var d=b[c];if(d&&d.Math==Math)return d}return function(){throw Error("Cannot find global object")}()}var p=ca(this);"function"===typeof Symbol&&Symbol("x");var q;if("function"==typeof Object.setPrototypeOf)q=Object.setPrototypeOf;else{var t;a:{var da={a:!0},ea={};try{ea.__proto__=da;t=ea.a;break a}catch(a){}t=!1}q=t?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var fa=q;function u(a,b){a.prototype=ba(b.prototype);a.prototype.constructor=a;if(fa)fa(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.$a=b.prototype}function v(a){return a?Array.prototype.slice.call(a):[]}var ha=Array.isArray;function ia(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a))return c;return-1}var ja=Object.prototype,ka=ja.hasOwnProperty,la=ja.toString;var ma=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function na(a,b){var c=b=void 0===b?"":b;try{return decodeURIComponent(a)}catch(d){return c}}function oa(a){var b=Object.create(null);if(!a)return b;for(var c;c=ma.exec(a);){var d=na(c[1],c[1]);c=c[2]?na(c[2].replace(/\+/g," "),c[2]):"";b[d]=c}return b}var pa="";function qa(){var a=self;if(a.__AMP_MODE)var b=a.__AMP_MODE;else{b=oa(a.location.originalHash||a.location.hash);pa||(pa=a.AMP_CONFIG&&a.AMP_CONFIG.v?a.AMP_CONFIG.v:"012106040012000");var c=oa(a.location.originalHash||a.location.hash);c=!(!["1","actions","amp","amp4ads","amp4email"].includes(c.development)&&!a.AMP_DEV_MODE);b=a.__AMP_MODE={localDev:!1,development:c,examiner:"2"==b.development,esm:!1,geoOverride:b["amp-geo"],minified:!0,test:!1,log:b.log,version:"2106040012000",rtvVersion:pa}}return b}function ra(a,b){function c(g){f=null;e=a.setTimeout(d,200);b.apply(null,g)}function d(){e=0;f&&c(f)}var e=0,f=null;return function(g){for(var k=[],h=0;h<arguments.length;++h)k[h-0]=arguments[h];e?f=k:c(k)}}function sa(a,b){function c(){d=0;var g=500-(a.Date.now()-e);if(0<g)d=a.setTimeout(c,g);else{var k=f;f=null;b.apply(null,k)}}var d=0,e=0,f=null;return function(g){for(var k=[],h=0;h<arguments.length;++h)k[h-0]=arguments[h];e=a.Date.now();f=k;d||(d=a.setTimeout(c,500))}}var w=self.AMP_CONFIG||{},ta=("string"==typeof w.cdnProxyRegex?new RegExp(w.cdnProxyRegex):w.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function ua(a){if(!self.document||!self.document.head||self.location&&ta.test(self.location.origin))return null;var b=self.document.head.querySelector('meta[name="'+a+'"]');return b&&b.getAttribute("content")||null}var va={thirdParty:w.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:w.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:("string"==typeof w.thirdPartyFrameRegex?new RegExp(w.thirdPartyFrameRegex):w.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,cdn:w.cdnUrl||ua("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:ta,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:w.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:w.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:w.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:w.geoApiUrl||ua("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var x=self.__AMP_LOG;function z(){if(!x.user)throw Error("failed to call initLogConstructor");return x.user}function A(){if(x.dev)return x.dev;throw Error("failed to call initLogConstructor")}function B(a,b,c,d,e){z().assert(a,b,c,d,e,void 0,void 0,void 0,void 0,void 0,void 0)}var C;function wa(a){var b=a.ownerDocument||a;C&&C.ownerDocument===b||(C=b.createElement("div"));return xa}function xa(a){var b=C;b.innerHTML=a[0];a=b.firstElementChild;b.removeChild(a);return a}function ya(a){var b=a.querySelectorAll("[ref]"),c=Object.create(null);for(a=0;a<b.length;a++){var d=b[a],e=d.getAttribute("ref");d.removeAttribute("ref");c[e]=d}return c}var za;function D(){return za?za:za=Promise.resolve(void 0)}function Aa(){var a=this;this.promise=new Promise((function(b,c){a.resolve=b;a.reject=c}))}function E(a,b){a=a.__AMP_TOP||(a.__AMP_TOP=a);return F(a,b)}function G(a,b){var c=H(a);c=I(c);return F(c,b)}function Ba(a,b){a=H(a);a=I(a);return Ca(a,b)?F(a,b):null}function Da(a,b){return Ea(I(a),b)}function H(a){return a.nodeType?E((a.ownerDocument||a).defaultView,"ampdoc").getAmpDoc(a):a}function I(a){a=H(a);return a.isSingleDoc()?a.win:a}function F(a,b){Ca(a,b);a=J(a)[b];a.obj||(a.obj=new a.ctor(a.context),a.context=null,a.resolve&&a.resolve(a.obj));return a.obj}function Ea(a,b){var c=J(a)[b];if(c){if(c.promise)return c.promise;F(a,b);return c.promise=Promise.resolve(c.obj)}return null}function J(a){var b=a.__AMP_SERVICES;b||(b=a.__AMP_SERVICES={});return b}function Fa(a){a=J(a);var c,b={};for(c in a){b.K=c;if(Object.prototype.hasOwnProperty.call(a,b.K)){var d=a[b.K];d.sharedInstance||(d.obj?Ga(b.K,d.obj):d.promise&&d.promise.then(function(e){return function(f){return Ga(e.K,f)}}(b)))}b={K:b.K}}}function Ga(a,b){if("function"==typeof b.dispose)try{b.dispose()}catch(c){A().error("SERVICE","failed to dispose service",a,c)}}function Ca(a,b){a=a.__AMP_SERVICES&&a.__AMP_SERVICES[b];return!(!a||!a.ctor)}function Ha(){var a=new Aa,b=a.promise,c=a.reject;a=a.resolve;b.catch((function(){}));return{obj:null,promise:b,resolve:a,reject:c,context:null,ctor:null}}var K,Ia="Webkit webkit Moz moz ms O o".split(" ");function L(a,b,c){var d=a.style;if(!b.startsWith("--")){K||(K=Object.create(null));var e=K[b];if(!e){e=b;if(void 0===d[b]){var f=b.charAt(0).toUpperCase()+b.slice(1);b:{for(var g=0;g<Ia.length;g++){var k=Ia[g]+f;if(void 0!==d[k]){f=k;break b}}f=""}void 0!==d[f]&&(e=f)}K[b]=e}b=e}b&&(b.startsWith("--")?a.style.setProperty(b,c):a.style[b]=c)}function Ja(a,b){void 0===b&&(b=a.hasAttribute("hidden"));b?a.removeAttribute("hidden"):a.setAttribute("hidden","")}
/* https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
var M=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function N(a,b,c,d,e){return e?e:b?"ï¿½":d?a.slice(0,-1)+"\\"+a.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+a}var O;function Ka(a){try{var b=a.ownerDocument,c=b.createElement("div"),d=b.createElement("div");c.appendChild(d);return c.querySelector(":scope div")===d}catch(e){return!1}}function La(a,b){a.classList.add("i-amphtml-scoped");var c=b.replace(/^|,/g,"$&.i-amphtml-scoped ");b=a.querySelectorAll(c);a.classList.remove("i-amphtml-scoped");return b}function P(a,b){if(void 0!==O?O:O=Ka(a))return a.querySelector(b.replace(/^|,/g,"$&:scope "));var c=La(a,b);return void 0===c[0]?null:c[0]}function Ma(a,b){/^[\w-]+$/.test(b);return P(a,"> ["+b+"]")}function Na(a,b){/^[\w-]+$/.test(b);b="> "+b;return(void 0!==O?O:O=Ka(a))?a.querySelectorAll(b.replace(/^|,/g,"$&:scope ")):La(a,b)}function Q(a){a.parentElement&&a.parentElement.removeChild(a)}function Oa(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Pa(a,b){a.insertBefore(b,a.firstChild)}function Qa(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)}function Ra(a,b,c){var d=Da(a,b);if(d)return d;var e=H(a);return e.whenExtensionsKnown().then((function(){var f=e.getExtensionVersion(c);return f?E(e.win,"extensions").waitForExtension(c,f):null})).then((function(f){if(f){var g=I(a);var k=Ea(g,b);k?g=k:(g=J(g),g[b]=Ha(),g=g[b].promise)}else g=null;return g}))}function Sa(a){var b=Ba(a,"bind");return b?Promise.resolve(b):Ra(a,"bind","amp-bind")}function R(a){return G(a,"viewport")}function Ta(a,b){return{left:0,top:0,width:a,height:b,bottom:0+b,right:0+a,x:0,y:0}}function Ua(a,b){return a&&b?a.left==b.left&&a.top==b.top&&a.width==b.width&&a.height==b.height:!1}function Va(a,b,c,d){this.element=b;this.xa=d;this.fidelity=c;this.turn=0==c?Math.floor(4*Math.random()):0;this.ba=null;this.o=R(a)}Va.prototype.update=function(a){var b=this;if(!a){if(0!=this.turn){this.turn--;return}0==this.fidelity&&(this.turn=4)}var c=this.o.getSize(),d=Ta(c.width,c.height);this.o.getClientRectAsync(this.element).then((function(e){var f={positionRect:e,viewportRect:d,relativePos:null},g=b.ba;if(!(g&&Ua(g.positionRect,f.positionRect)&&Ua(g.viewportRect,f.viewportRect))){g=f.positionRect;var k=f.viewportRect;f.relativePos=g.top<k.top?"top":g.bottom>k.bottom?"bottom":"inside";k=f.viewportRect;g.top<=k.bottom&&k.top<=g.bottom&&g.left<=k.right&&k.left<=g.right?(b.ba=f,b.xa(f)):b.ba&&(b.ba=null,f.positionRect=null,b.xa(f))}}))};function S(a){var b=this;this.B=a;this.H=a.win;this.F=[];this.Z=E(this.H,"vsync");this.o=R(a);this.ga=[];this.ia=this.oa=this.ma=!1;this.Qa=sa(this.H,(function(){b.ma=!1}))}S.prototype.observe=function(a,b,c){var d=this,e=new Va(this.B,a,b,c);this.F.push(e);this.ia||Wa(this);e.update();return function(){for(var f=0;f<d.F.length;f++)if(d.F[f]==e){d.F.splice(f,1);0==d.F.length&&Xa(d);break}}};S.prototype.unobserve=function(a){for(var b=0;b<this.F.length;b++)if(this.F[b].element==a){this.F.splice(b,1);0==this.F.length&&Xa(this);return}A().error("POSITION_OBSERVER","cannot unobserve unobserved element")};function Wa(a){a.ia=!0;a.ga.push(a.o.onScroll((function(){a.Qa();a.ma=!0;a.oa||Ya(a)})));a.ga.push(a.o.onResize((function(){a.updateAllEntries(!0)})))}function Xa(a){for(a.ia=!1;a.ga.length;)a.ga.pop()()}S.prototype.updateAllEntries=function(a){for(var b=0;b<this.F.length;b++)this.F[b].update(a)};function Ya(a){a.updateAllEntries();a.oa=!0;a.ma?a.Z.measure((function(){Ya(a)})):a.oa=!1}function T(a,b){this.aa=a;this.ta=this.Ka=null;this.callback=b}T.prototype.observe=function(a,b){var c=this,d=a.ownerDocument.createElement("div");d.classList.add("i-amphtml-next-page-document-top-sentinel");var e=a.ownerDocument.createElement("div");e.classList.add("i-amphtml-next-page-document-bottom-sentinel");b.insertBefore(d,a);b.insertBefore(e,a.nextSibling);this.aa.getPositionObserver().observe(d,0,(function(f){c.Ka=f.relativePos;c.aa.updateRelativePos(c)}));this.aa.getPositionObserver().observe(e,0,(function(f){c.ta=f.relativePos;c.aa.updateRelativePos(c)}))};T.prototype.usesSentinel=function(){return!0};p.Object.defineProperties(T.prototype,{top:{configurable:!0,enumerable:!0,get:function(){return this.Ka}},bottom:{configurable:!0,enumerable:!0,get:function(){return this.ta}}});function U(a,b,c){T.call(this,a,b);this.Xa=c}u(U,T);U.prototype.usesSentinel=function(){return!1};p.Object.defineProperties(U.prototype,{nextPageEl:{configurable:!0,enumerable:!0,get:function(){return this.Xa}}});function Za(a){this.B=a;this.ka=[];this.na=0;this.ea=-1;this.Ba=null;this.o=R(a);this.Na=0;this.pa=!1;this.J=G(a,"mutator");var b=ra(a.win,this.La.bind(this));this.o.onScroll(b.bind(this));this.o.onResize(b.bind(this));this.La()}m=Za.prototype;m.La=function(){var a=this;this.pa||(this.pa=!0,this.J.measureElement((function(){a.Na=a.o.getHeight();var b=a.o.getScrollTop(),c=b-a.na;if(!(20>Math.abs(c))){var d=0<c?-1:1;a.ka.forEach((function(e){e.usesSentinel()&&a.Ba===d||a.updateRelativePos(e)}));a.na=b;a.Ba=a.ea;a.ea=d}})).then((function(){a.pa=!1})))};m.isScrollingUp=function(){return 1===this.ea};m.isScrollingDown=function(){return-1===this.ea};m.observe=function(a,b,c){c=new T(this,c);this.ka.push(c);c.observe(a,b)};m.observeHost=function(a,b){a=new U(this,b,a);this.ka.push(a)};m.getPositionObserver=function(){var a=H(this.B),b=I(a),c=J(b),d=c["position-observer"];d||(d=c["position-observer"]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1});d.ctor||(d.ctor=S,d.context=a,d.sharedInstance=!1,d.resolve&&F(b,"position-observer"));return G(this.B.getHeadNode(),"position-observer")};m.updateRelativePos=function(a){var b=a.usesSentinel()?this.getRelativePosFromSentinel(a):this.getRelativePosFromScroll(a);b&&a.callback(b)};m.getRelativePosFromScroll=function(a){var b=this.na,c=this.Na;a=a.nextPageEl.getLayoutBox().top;return b<a-c?5:b<a&&a<=c&&0>=b?1:b<a?this.isScrollingDown()?3:4:2};m.getRelativePosFromSentinel=function(a){var b=a.bottom;a=a.top;if(!a&&!b)return null;if("inside"===a&&"inside"===b)return 1;if(!(a&&"top"!==a||b&&"bottom"!==b))return 5;if((!a||"top"===a)&&"top"===b||"bottom"===a&&(!b||"bottom"===b))return 2;var c=("top"===a||"inside"===a)&&(!b||"bottom"===b),d=this.isScrollingUp();return!!c===!!d?3:4};p.Object.defineProperties(Za.prototype,{mutator:{configurable:!0,enumerable:!0,get:function(){return this.J}}});function V(a,b){this.R=a;this.Ya=b.title;this.Va=this.Ma=b.url;this.Ua=b.image;this.va=this.ua=this.D=null;this.A=1;this.Y="prerender";this.Ia=2}m=V.prototype;m.is=function(a){return this.A===a};m.isLoaded=function(){return 3===this.A||5===this.A||6===this.A};m.isVisible=function(){return this.isLoaded()&&"visible"===this.Y};m.setVisibility=function(a){this.isLoaded()&&a!=this.Y&&(this.is(6)&&"visible"===a&&this.resume(),this.Y=a,this.D&&(this.D.setVisibilityState(a),this.D.ampdoc.getBody().classList.toggle("amp-next-page-visible",this.isVisible()),this.D.ampdoc.getBody().classList.toggle("amp-next-page-hidden",!this.isVisible())))};m.pause=function(){var a=this;return this.D?this.D.close().then((function(){return a.R.closeDocument(a).then((function(){a.D=null;a.Y="hidden";a.A=6}))})):D()};m.resume=function(){return $a(this)};m.fetch=function(){var a=this;if(5===this.A||2===this.A||3===this.A||4===this.A)return D();this.A=2;return this.R.fetchPageDocument(this).then((function(b){a.A=3;a.va=b;a.ua=a.R.createDocumentContainerForPage(a);return $a(a)})).catch((function(){a.A=4}))};function $a(a){return a.R.attachDocumentToPage(a,a.va,a.is(6)).then((function(b){b?(a.A=5,a.D=b,a.is(6)||a.R.setLastFetchedPage(a)):a.A=4}))}p.Object.defineProperties(V.prototype,{url:{configurable:!0,enumerable:!0,get:function(){return this.Ma},set:function(a){this.Ma=a}},initialUrl:{configurable:!0,enumerable:!0,get:function(){return this.Va}},image:{configurable:!0,enumerable:!0,get:function(){return this.Ua}},title:{configurable:!0,enumerable:!0,get:function(){return this.Ya}},relativePos:{configurable:!0,enumerable:!0,get:function(){return this.Ia},set:function(a){this.Ia=a}},document:{configurable:!0,enumerable:!0,get:function(){if(this.D)return this.D.ampdoc.getRootNode()}},container:{configurable:!0,enumerable:!0,get:function(){return this.ua}},shadowDoc:{configurable:!0,enumerable:!0,get:function(){return this.D}}});function ab(a,b,c,d,e){V.call(this,a,b);this.A=c;this.Y=d;this.Sa=e}u(ab,V);p.Object.defineProperties(ab.prototype,{document:{configurable:!0,enumerable:!0,get:function(){return this.Sa}}});function bb(a){this.M=a.document.implementation.createHTMLDocument("");this.M.open();this.Z=E(a,"vsync");this.Pa=this.Wa.bind(this);this.U=this.S=this.T=null;this.qa=!1;this.W=D();this.L=!1;this.fa=null}m=bb.prototype;m.onBody=function(a){this.T=a};m.onBodyChunk=function(a){this.S=a};m.onEnd=function(a){this.U=a};m.write=function(a){if(this.L)throw Error("closed already");a&&this.M.write(a);cb(this);return this.W};m.close=function(){this.M.close();this.L=!0;cb(this);return this.W};m.abort=function(){throw Error("Not implemented")};m.releaseLock=function(){throw Error("Not implemented")};function cb(a){a.qa||(a.qa=!0,a.Z.mutate(a.Pa))}m.Wa=function(){this.qa=!1;!this.fa&&this.M.body&&(this.fa=this.T(this.M));if(this.fa){var a=this.M.body,b=this.fa,c=0;for(db(a);a.firstChild;)c++,b.appendChild(a.firstChild);0<c&&this.S()}this.L&&this.U()};p.Object.defineProperties(bb.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}}});function eb(a){this.wa=[];this.Z=E(a,"vsync");this.U=this.S=this.T=null;this.W=D();this.L=!1}m=eb.prototype;m.onBody=function(a){this.T=a};m.onBodyChunk=function(a){this.S=a};m.onEnd=function(a){this.U=a};m.write=function(a){if(this.L)throw Error("closed already");a&&this.wa.push(a);return this.W};m.close=function(){var a=this;this.L=!0;this.Z.mutate((function(){var b=a.wa.join(""),c=(new DOMParser).parseFromString(b,"text/html");if(c.body){b=c.body;c=a.T(c);var d=0;for(db(b);b.firstChild;)d++,c.appendChild(b.firstChild);0<d&&a.S()}a.U()}));return this.W};m.abort=function(){throw Error("Not implemented")};m.releaseLock=function(){throw Error("Not implemented")};p.Object.defineProperties(eb.prototype,{closed:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},desiredSize:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}},ready:{configurable:!0,enumerable:!0,get:function(){throw Error("Not implemented")}}});function db(a){var b=Na(a,"noscript");Qa(b,(function(c){Q(c)}))}
/* Copyright (c) 2014 The Polymer Project Authors. All rights reserved. Use of this source code is governed by a BSD-style license that can be found in the LICENSE file or at https://developers.google.com/open-source/licenses/bsd */
var jb={strictStyling:!1,scopeRules:function(a,b,c){var d="";a&&Array.prototype.forEach.call(a,(function(e){if(e.selectorText&&e.style&&void 0!==e.style.cssText)d+=this.scopeSelector(e.selectorText,b,this.strictStyling,c)+" {\n\t",d+=this.propertiesFromRule(e)+"\n}\n\n";else if(e.type===CSSRule.MEDIA_RULE)d+="@media "+e.media.mediaText+" {\n",d+=this.scopeRules(e.cssRules,b),d+="\n}\n\n";else try{e.cssText&&(d+=e.cssText+"\n\n")}catch(f){e.type===CSSRule.KEYFRAMES_RULE&&e.cssRules&&(d+=this.ieSafeCssTextFromKeyFrameRule(e))}}),this);return d},ieSafeCssTextFromKeyFrameRule:function(a){var b="@keyframes "+a.name+" {";Array.prototype.forEach.call(a.cssRules,(function(c){b+=" "+c.keyText+" {"+c.style.cssText+"}"}));return b+=" }"},scopeSelector:function(a,b,c,d){var e=[];a.split(",").forEach((function(f){f=f.trim();d&&(f=d(f));this.selectorNeedsScoping(f,b)&&(f=c&&!f.match(fb)?this.applyStrictSelectorScope(f,b):this.applySelectorScope(f,b));e.push(f)}),this);return e.join(", ")},selectorNeedsScoping:function(a,b){if(Array.isArray(b))return!0;var c=this.makeScopeMatcher(b);return!a.match(c)},makeScopeMatcher:function(a){a=a.replace(/\[/g,"\\[").replace(/\]/g,"\\]");return new RegExp("^("+a+")"+hb,"m")},applySelectorScope:function(a,b){return Array.isArray(b)?this.applySelectorScopeList(a,b):this.applySimpleSelectorScope(a,b)},applySelectorScopeList:function(a,b){for(var e,c=[],d=0;e=b[d];d++)c.push(this.applySimpleSelectorScope(a,e));return c.join(", ")},applySimpleSelectorScope:function(a,b){return a.match(ib)?(a=a.replace(fb,b),a.replace(ib,b+" ")):b+" "+a},applyStrictSelectorScope:function(a,b){b=b.replace(/\[is=([^\]]*)\]/g,"$1");var c=[" ",">","+","~"],d=a,e="["+b+"]";c.forEach((function(f){d=d.split(f).map((function(g){var k=g.trim().replace(ib,"");k&&0>c.indexOf(k)&&0>k.indexOf(e)&&(g=k.replace(/([^:]*)(:*)(.*)/,"$1"+e+"$2$3"));return g})).join(f)}));return d},propertiesFromRule:function(a){var b=a.style.cssText;a.style.content&&!a.style.content.match(/['"]+|attr/)&&(b=b.replace(/content:[^;]*;/g,"content: '"+a.style.content+"';"));a=a.style;for(var c in a)"initial"===a[c]&&(b+=c+": initial; ");return b}},hb="([>\\s~+[.,{:][\\s\\S]*)?$",fb="-shadowcsshost-no-combinator",ib=/-shadowcsshost/gim;var kb,lb;function mb(){void 0===lb&&(lb="none"!=nb()&&(ob(Element.prototype.attachShadow)||ob(Element.prototype.createShadowRoot)));return lb}function ob(a){return!!a&&-1!=a.toString().indexOf("[native code]")}function nb(){if(void 0===kb){var a=Element;kb=a.prototype.attachShadow?"v1":a.prototype.createShadowRoot?"v0":"none"}return kb}function W(a,b,c,d){var e=a.getHeadNode();var f=(a=e.__AMP_CSS_TR)?a(b):b;a:{var g=c||!1,k=d||null;(b=e.__AMP_CSS_SM)||(b=e.__AMP_CSS_SM=Object.create(null));var h=!g&&k&&"amp-custom"!=k&&"amp-keyframes"!=k;if(a=g?"amp-runtime":h?"amp-extension="+k:null){var l=pb(e,b,a);if(l){l.textContent!==f&&(l.textContent=f);break a}}l=(e.ownerDocument||e).createElement("style");l.textContent=f;f=null;g?l.setAttribute("amp-runtime",""):h?(l.setAttribute("amp-extension",k||""),f=pb(e,b,"amp-runtime")):(k&&l.setAttribute(k,""),f=e.lastChild);g=f;(g=void 0===g?null:g)?e.insertBefore(l,g.nextSibling):Pa(e,l);a&&(b[a]=l)}}function pb(a,b,c){return b[c]?b[c]:(a=a.querySelector("style["+c+"]"))?b[c]=a:null}function qb(a,b){a.__AMP_CSS_TR=b}var tb,rb=/[^\.\-_0-9a-zA-Z]/,sb=/[^\-_0-9a-zA-Z]/;function ub(a){var b=a.ownerDocument.defaultView,c=a.shadowRoot||a.__AMP_SHADOW_ROOT;if(c)return c.innerHTML="",c;var d=nb();if("v1"==d){var e=a.attachShadow({mode:"open"});e.styleSheets||Object.defineProperty(e,"styleSheets",{get:function(){var g=[];Qa(e.childNodes,(function(k){"STYLE"===k.tagName&&g.push(k.sheet)}));return g}})}else e="v0"==d?a.createShadowRoot():vb(a);if(!mb()){var f="i-amphtml-sd-"+b.Math.floor(1e4*b.Math.random());e.id=f;e.host.classList.add(f);qb(e,(function(g){var k=e,h=k.id;k=k.ownerDocument;var l=null;try{l=wb(k.implementation.createHTMLDocument(""),g)}catch(n){}if(!l)try{l=wb(k,g)}catch(n){}return l?jb.scopeRules.call(jb,l,"."+h,xb):g}))}return e}function vb(a){var b=a.ownerDocument;a.classList.add("i-amphtml-shadow-host-polyfill");var c=b.createElement("style");c.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}";a.appendChild(c);var d=b.createElement("i-amphtml-shadow-root");a.appendChild(d);a.__AMP_SHADOW_ROOT=d;Object.defineProperty(a,"shadowRoot",{enumerable:!0,configurable:!0,value:d});d.host=a;d.getElementById=function(e){var f=String(e).replace(M,N);return d.querySelector("#"+f)};Object.defineProperty(d,"styleSheets",{get:function(){return b.styleSheets?v(b.styleSheets).filter((function(e){return d.contains(e.ownerNode)})):[]}});return d}function yb(a,b,c){var d=a.ownerDocument;if(mb())var e=d.importNode(b,c);else{e=d.createElement("amp-body");e.style.display="block";for(var f=0;f<b.attributes.length;f++)e.setAttribute(b.attributes[0].name,b.attributes[0].value);if(c)for(b=b.firstChild;b;b=b.nextSibling)e.appendChild(d.importNode(b,!0))}L(e,"position","relative");var g=a.body;g&&a.removeChild(g);a.appendChild(e);Object.defineProperty(a,"body",{configurable:!0,value:e});return e}function xb(a){return a.replace(/(html|body)/g,zb)}function zb(a,b,c,d){var e=d.charAt(c-1),f=d.charAt(c+a.length);return e&&!rb.test(e)||f&&!sb.test(f)?a:"amp-"+a}function wb(a,b){var c=a.createElement("style");c.textContent=b;try{return(a.head||a.documentElement).appendChild(c),c.sheet?c.sheet.cssRules:null}finally{c.parentNode&&c.parentNode.removeChild(c)}}function Ab(a){void 0===tb&&(tb=!a.document.implementation||"function"!=typeof a.document.implementation.createHTMLDocument||E(a,"platform").isFirefox()?!1:!0);return tb?new bb(a):new eb(a)}function X(){this.Ra=100;this.ha=this.ra=0;this.$=Object.create(null)}X.prototype.has=function(a){return!!this.$[a]};X.prototype.get=function(a){var b=this.$[a];if(b)return b.access=++this.ha,b.payload};X.prototype.put=function(a,b){this.has(a)||this.ra++;this.$[a]={payload:b,access:this.ha};if(!(this.ra<=this.Ra)){a=this.$;var d,c=this.ha+1;for(d in a){var e=a[d].access;if(e<c){c=e;var f=d}}void 0!==f&&(delete a[f],this.ra--)}};var Bb;Bb={c:!0,v:!0,a:!0,ad:!0};var Cb,Db,Eb=/[?&]amp_js[^&]*/,Fb=/[?&]amp_gsa[^&]*/,Gb=/[?&]amp_r[^&]*/,Hb=/[?&]amp_kit[^&]*/,Ib=/[?&]usqp[^&]*/;function Y(a){Cb||(Cb=self.document.createElement("a"),Db=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new X));var b=Db,c=Cb;if(b&&b.has(a))a=b.get(a);else{c.href=a;c.protocol||(c.href=c.href);var d={href:c.href,protocol:c.protocol,host:c.host,hostname:c.hostname,port:"0"==c.port?"":c.port,pathname:c.pathname,search:c.search,hash:c.hash,origin:null};"/"!==d.pathname[0]&&(d.pathname="/"+d.pathname);if("http:"==d.protocol&&80==d.port||"https:"==d.protocol&&443==d.port)d.port="",d.host=d.hostname;d.origin=c.origin&&"null"!=c.origin?c.origin:"data:"!=d.protocol&&d.host?d.protocol+"//"+d.host:d.href;b&&b.put(a,d);a=d}return a}function Jb(a,b){var c=void 0===c?"source":c;B(null!=a,"%s %s must be available",b,c);var d=a;"string"==typeof d&&(d=Y(d));var e;(e="https:"==d.protocol||"localhost"==d.hostname||"127.0.0.1"==d.hostname)||(d=d.hostname,e=d.length-10,e=0<=e&&d.indexOf(".localhost",e)==e);B(e||/^(\/\/)/.test(a),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',b,c,a)}function Kb(a){"string"==typeof a&&(a=Y(a));var b=a;"string"==typeof b&&(b=Y(b));if(!va.cdnProxyRegex.test(b.origin))return a.href;b=a.pathname.split("/");B(Bb[b[1]],"Unknown path prefix in url %s",a.href);var c=b[2],d="s"==c?"https://"+decodeURIComponent(b[3]):"http://"+decodeURIComponent(c);B(0<d.indexOf("."),"Expected a . in origin %s",d);b.splice(1,"s"==c?3:2);b=d+b.join("/");d=(d=a.search)&&"?"!=d?(d=d.replace(Eb,"").replace(Fb,"").replace(Gb,"").replace(Hb,"").replace(Ib,"").replace(/^[?&]/,""))?"?"+d:"":"";return b+d+(a.hash||"")}function Lb(a,b,c,d){this.win=a;this.Oa=b;this.Ta=c;this.sa=d;this.O=[]}function Mb(a,b,c,d,e){d=d||Object.create(null);Nb(a);L(b,"visibility","hidden");var f=ub(b);f.AMP&&(z().warn("multidoc-manager","Shadow doc wasn't previously closed"),Ob(a,f));var g={};f.AMP=g;g.url=c;var k=Y(c).origin,h=a.Oa.installShadowDoc(c,f,{params:d});g.ampdoc=h;A().fine("multidoc-manager","Attach to shadow root:",f,h);W(h,AMP.combinedCss,!0);AMP.installAmpdocServices(h);var l=G(h,"viewer");g.setVisibilityState=function(r){h.overrideVisibilityState(r)};g.postMessage=l.receiveMessage.bind(l);var n;g.onMessage=function(r){n=r};l.setMessageDeliverer((function(r,y,gb){if("broadcast"==r)return Pb(a,y,f),gb?D():void 0;if(n)return n(r,y,gb)}),k);g.close=function(){return Ob(a,f)};qa().development&&(g.toggleRuntime=l.toggleRuntime.bind(l),g.resources=G(h,"resources"));g.getState=function(r){return Sa(f).then((function(y){return y?y.getState(r):Promise.reject("amp-bind is not available in this document")}))};g.setState=function(r){return Sa(f).then((function(y){return y?"string"===typeof r?y.setStateWithExpression(r,{}):"[object Object]"===la.call(r)||ha(r)?y.setStateWithObject(r):Promise.reject("Invalid state"):Promise.reject("amp-bind is not available in this document")}))};e(g,f,h).then((function(){h.setReady();h.signals().signal("render-start");L(b,"visibility","visible")}));a.O.includes(f)||a.O.push(f);A().fine("multidoc-manager","Shadow root initialization is done:",f,h);return g}Lb.prototype.attachShadowDoc=function(a,b,c,d){var e=this;z().assertString(c);A().fine("multidoc-manager","Attach shadow doc:",b);return Mb(this,a,c,d,(function(f,g,k){Qb(e,k,g,b);b.body&&(f=yb(g,b.body,!0),f.classList.add("amp-shadow"),k.setBody(f));setTimeout((function(){k.signals().signal("render-start");L(a,"visibility","visible")}),50);return D()}))};Lb.prototype.attachShadowDocAsStream=function(a,b,c){var d=this;z().assertString(b);A().fine("multidoc-manager","Attach shadow doc as stream");return Mb(this,a,b,c,(function(e,f,g){var k=!1,h=Ab(d.win);e.writer=h;h.onBody((function(l){Qb(d,g,f,l);l=yb(f,l.body,!1);l.classList.add("amp-shadow");g.setBody(l);return l}));h.onBodyChunk((function(){k||(k=!0,setTimeout((function(){g.signals().signal("render-start");L(a,"visibility","visible")}),50))}));return new Promise((function(l){h.onEnd((function(){l();e.writer=null}))}))}))};function Qb(a,b,c,d){if(d.head){c.AMP.head=d.head;for(var e={},f=Na(a.win.document.head,"link"),g=0;g<f.length;g++){var k=f[g].getAttribute("href");k&&(e[k]=!0)}for(d=d.head.firstElementChild;d;d=d.nextElementSibling){g=d.tagName;var h=d.getAttribute("name"),l=d.getAttribute("rel");switch(g){case"TITLE":c.AMP.title=d.textContent;A().fine("multidoc-manager","- set title: ",c.AMP.title);break;case"META":d.hasAttribute("charset")||"viewport"!=h&&(h?b.setMetaByName(h,d.getAttribute("content")||""):A().warn("multidoc-manager","meta ignored: ",d));break;case"LINK":g=d.getAttribute("href");"canonical"==l?(c.AMP.canonicalUrl=g,A().fine("multidoc-manager","- set canonical: ",c.AMP.canonicalUrl)):"stylesheet"==l?e[g]?(A().fine("multidoc-manager","- stylesheet already included: ",g),W(b,'@import "'+g+'"',!1)):(e[g]=!0,h=a.win.document.createElement("link"),h.setAttribute("rel","stylesheet"),h.setAttribute("type","text/css"),h.setAttribute("href",g),a.win.document.head.appendChild(h),A().fine("multidoc-manager","- import font to parent: ",g,h)):A().fine("multidoc-manager","- ignore link rel=",l);break;case"STYLE":d.hasAttribute("amp-boilerplate")?A().fine("multidoc-manager","- ignore boilerplate style: ",d):d.hasAttribute("amp-custom")?(W(b,d.textContent,!1,"amp-custom"),A().fine("multidoc-manager","- import style: ",d)):d.hasAttribute("amp-keyframes")&&(W(b,d.textContent,!1,"amp-keyframes"),A().fine("multidoc-manager","- import style: ",d));break;case"SCRIPT":if(d.hasAttribute("src")){A().fine("multidoc-manager","- src script: ",d);g=d.getAttribute("src");if(g){var n=g.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)$/i);h=n?n[2]:void 0;n=n?n[3]:void 0;h=h&&n?{extensionId:h,extensionVersion:n}:null}else h=null;var r=d.getAttribute("custom-element"),y=d.getAttribute("custom-template");n=r||y;h?n?a.Ta.installExtensionForDoc(b,n,h.extensionVersion):d.hasAttribute("data-amp-report-test")||z().error("multidoc-manager","- unknown script: ",d,g):A().fine("multidoc-manager","- ignore runtime script: ",g)}else-1==(d.getAttribute("type")||"application/javascript").indexOf("javascript")?(c.appendChild(a.win.document.importNode(d,!0)),A().fine("multidoc-manager","- non-src script: ",d)):d.hasAttribute("amp-onerror")||z().error("multidoc-manager","- unallowed inline javascript: ",d);break;case"NOSCRIPT":break;default:z().error("multidoc-manager","- UNKNOWN head element:",d)}}}b.setExtensionsKnown()}function Pb(a,b,c){Nb(a);a.O.forEach((function(d){if(d!=c){var e=G(d.AMP.ampdoc,"viewer");a.sa.delay((function(){e.receiveMessage("broadcast",b,!1)}),0)}}))}function Ob(a,b){Rb(a,b);var c=b.AMP;delete b.AMP;var d=c.ampdoc;d.overrideVisibilityState("inactive");Fa(d);return a.sa.timeoutPromise(15,new a.win.Promise((function(e){Da(d,"resources").then((function(f){if(f)f.onNextPass(e);else e()}))})),"Timeout reached waiting for visibility state change callback").catch((function(e){z().info("multidoc-manager",e)}))}function Rb(a,b){b=a.O.indexOf(b);-1!=b&&a.O.splice(b,1)}function Sb(a,b){a.sa.delay((function(){Ob(a,b)}),0)}function Nb(a){a.O.forEach((function(b){var c;if(!(c=!b.host)){c=b.host;var d=c.isConnected;if(void 0!==d)c=d;else{do{if(Node.prototype.getRootNode)c=c.getRootNode()||c;else for(;c.parentNode&&(!c||"I-AMPHTML-SHADOW-ROOT"!=c.tagName&&(11!=c.nodeType||"[object ShadowRoot]"!==Object.prototype.toString.call(c)));c=c.parentNode);if(c.host)c=c.host;else break}while(1);c=c.nodeType===Node.DOCUMENT_NODE}c=!c}c&&(z().warn("multidoc-manager","Shadow doc wasn't previously closed"),Rb(a,b),Sb(a,b))}))}function Tb(a,b,c){c=void 0===c?{}:c;var d=void 0===c.expr?".":c.expr,e=void 0===c.urlReplacement?0:c.urlReplacement,f=void 0===c.refresh?!1:c.refresh,g=void 0===c.xssiPrefix?void 0:c.xssiPrefix;Jb(b.getAttribute("src"),b);var k=E(a.win,"batched-xhr");return Ub(b,e,f).then((function(h){return k.fetchJson(h.xhrUrl,h.fetchOpt)})).then((function(h){return E(a.win,"xhr").xssiJson(h,g)})).then((function(h){if(null==h)throw Error("Response is undefined.");var l=d||".";if("."!=l){l=l.split(".");var n="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];l=n?n.call(l):{next:aa(l)};for(n=l.next();!n.done;n=l.next())if((n=n.value)&&h&&void 0!==h[n]&&"object"==typeof h&&ka.call(h,n))h=h[n];else{h=void 0;break}}return h})).catch((function(h){throw z().createError("failed fetching JSON data",h)}))}function Ub(a,b,c){var d=a.getAttribute("src"),e=Ba(a,"url-replace");return(1<=b?e.expandUrlAsync(d):Promise.resolve(d)).then((function(f){if(1==b){var g=e.collectDisallowedVarsSync(a);if(0<g.length)throw z().createError('URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. Please add data-amp-replace="'+g.join(" ")+'" to the <'+a.tagName+"> element. See https://bit.ly/amp-var-subs.")}var k={};a.hasAttribute("credentials")&&(k.credentials=a.getAttribute("credentials"));c&&(k.cache="reload");return{xhrUrl:f,fetchOpt:k}}))}function Vb(a,b){try{return JSON.parse(a)}catch(c){return null==b||b(c),null}}function Wb(a){var b=a.querySelector('script[type="application/ld+json"]');if(b){var c=Vb(b.textContent);if(c&&c.image){if("string"===typeof c.image)return c.image;if(c.image["@list"]&&"string"===typeof c.image["@list"][0])return c.image["@list"][0];if("string"===typeof c.image.url)return c.image.url;if("string"===typeof c.image[0])return c.image[0]}}}function Xb(a,b,c){var d=!1;c=void 0===c?{}:c;d=void 0===d?!0:d;var e=c,f=d;Ra(a,"amp-analytics-instrumentation","amp-analytics").then((function(g){g&&g.triggerEventForTarget(a,b,e,f)}))}function Yb(a,b){a=Y(a);var c=Y(b).origin,d=Y(Kb(b)).origin;B(a.origin===c||a.origin===d,"Invalid page URL supplied to amp-next-page, pages must be from the same origin as the current document");return a}function Zb(a,b){z().assertString(a.url,"page url must be a string");var c=Kb(b),d=Y(b).origin,e=a.url;"string"==typeof c&&(c=Y(c));if("function"==typeof URL)e=new URL(e,c.href).toString();else{"string"==typeof c&&(c=Y(c));e=e.replace(/\\/g,"/");var f=Y(e);e=e.toLowerCase().startsWith(f.protocol)?f.href:e.startsWith("//")?c.protocol+e:e.startsWith("/")?c.origin+e:c.origin+c.pathname.replace(/\/[^/]*$/,"/")+e}a.url=e;e=Yb(a.url,b);z().assertString(a.image,"page image must be a string");z().assertString(a.title,"page title must be a string");b=Y(Kb(b)).origin;b!==d&&e.origin===b&&(a.url=d+"/c/"+("https:"===e.protocol?"s/":"")+encodeURIComponent(e.host)+e.pathname+(e.search||"")+(e.hash||""))}var $b=['<div class=amp-next-page-separator aria-label="Next article separator" tabindex=0></div>'],ac=['<div class=amp-next-page-links aria-label="Read more articles"></div>'],bc=["<a class=amp-next-page-link><img ref=image class=amp-next-page-image> <span ref=title class=amp-next-page-text></span></a>"];function cc(){return D()}function dc(a){var b=this;this.B=a;this.H=a.win;this.C=this.H.document;this.o=R(a);this.Za=G(a,"viewer");this.J=G(a,"mutator");this.P=G(a,"templates");this.V=this.Ja=null;this.N=cc;this.la=!1;this.ja=this.G=this.Aa=this.Ea=this.za=this.Da=this.X=this.j=this.ca=null;this.da={};this.ya=!1;this.Ca=1/0;this.Ha=this.I=null;this.Ga=new Promise((function(c){b.Ha=c}))}m=dc.prototype;m.isBuilt=function(){return!!this.h};m.build=function(a){function b(){c.N();c.Ha()}var c=this;if(this.isBuilt())return D();this.B.getBody().lastElementChild!==a&&z().warn("amp-next-page","should be the last element in the body of the document, a footer element can be added as a child of <amp-next-page> if it has the `footer` attribute");this.j=a;this.I=this.j.getAttribute("src");this.ya=this.j.hasAttribute("deep-parsing")?"false"!==this.j.getAttribute("deep-parsing"):!this.I;this.Ca=this.j.hasAttribute("max-pages")?parseInt(this.j.getAttribute("max-pages"),10):1/0;this.Ja=ec(this,a);this.V=fc(this,a);this.ja=this.G=this.createHostPage();this.toggleHiddenAndReplaceableElements(this.C);Pa(this.j,this.V);this.za=G(this.B,"history");this.Ea=G(this.B,"navigation");this.Da=new Lb(this.H,E(this.H,"ampdoc"),E(this.H,"extensions"),F(this.H,"timer"));this.X=new Za(this.B);this.Ga.then((function(){c.X.observeHost(c.j,(function(d){c.G.relativePos=d;c.updateVisibility()}))}));this.h||(this.h=[this.G],this.setLastFetchedPage(this.G));gc(this).then((function(){return hc(c)})).then(b,b);this.j.classList.add("i-amphtml-next-page");return this.Ga};function gc(a){return new Promise((function(b){if(0!=a.o.getScrollTop())return b();var c=a.o.onScroll((function(){b();c()}))}))}m.maybeFetchNext=function(a){var b=this,c=void 0===a?!1:a,d=this.h.filter((function(h){return!h.is(1)})).length>this.Ca,e=this.h.some((function(h){return h.is(2)})),f=3<ic(this)&&!c;if(this.la||e||f||d)return D();var g=this.h.length,k=this.h[this.h.indexOf(this.Aa)+1];return k?k.fetch().then((function(){k.is(4)&&b.setLastFetchedPage(k)})).then((function(){return b.N()}),(function(h){return b.N().then((function(){throw h}))})):jc(this).then((function(h){return kc(b,h)})).then((function(){return b.h.length<=g?(b.la=!0,b.N()):b.maybeFetchNext(!0)}))};m.updateVisibility=function(){var a=this;this.h.forEach((function(d,e){2===d.relativePos?d.isVisible()&&d.setVisibility("hidden"):3!==d.relativePos&&(d.isVisible()||d.setVisibility("visible"),lc(a,e),mc(a,e))}));this.h.some((function(d){return d.isVisible()}))||this.G.setVisibility("visible");this.h.filter((function(d){return d.isVisible()})).forEach((function(d){return a.toggleHiddenAndReplaceableElements(d.document)}));var b=ia(this.h,(function(d){return d.isVisible()})),c=this.h[b]||null;c&&this.ja!==c&&this.setTitlePage(c);this.maybeFetchNext()};function lc(a,b){a.X.isScrollingDown()&&a.G.isVisible()&&a.G.setVisibility("hidden");var c=a.X.isScrollingDown()?a.h.slice(1,b).reverse():a.h.slice(b+1);Promise.all(c.filter((function(d){return 2===d.relativePos})).map((function(d,e){d.isVisible()&&d.setVisibility("hidden");if(5<=e)return d.pause()})))}function mc(a,b){var c=a.h.slice(1).slice(Math.max(0,b-5-1),Math.min(a.h.length,b+5+1)).filter((function(d){return d.is(6)}));Promise.all(c.map((function(d){return d.resume()})))}m.setLastFetchedPage=function(a){this.Aa=a};m.setTitlePage=function(a){var b=a=void 0===a?this.G:a;if(b){a=b.title;var c=b.url;this.C.title=a;this.za.replace({title:a,url:c});this.ja=b;Xb(this.j,"amp-next-page-scroll",{title:a,url:c})}else A().warn("amp-next-page","setTitlePage called before next-page-service is built")};m.createHostPage=function(){var a=this.C,b=a.title;a=a.location.href;var c;(c=Wb(this.C))||(c=(c=this.C.querySelector('meta[property="og:image"]'))?c.getAttribute("content"):void 0);c||(c=this.C,c=(c=c.querySelector('link[rel="shortcut icon"]')||c.querySelector('link[rel="icon"]'))?c.getAttribute("href"):void 0);return new ab(this,{url:a,title:b||"",image:c||""},5,"visible",this.C)};m.createDocumentContainerForPage=function(a){var b=this,c=this.C.createElement("div");c.classList.add("i-amphtml-next-page-document-container");this.j.insertBefore(c,this.V);var d=this.C.createElement("div");d.classList.add("i-amphtml-next-page-shadow-root");c.appendChild(d);this.X.observe(d,c,(function(e){a.relativePos=e;b.updateVisibility()}));return c};m.attachDocumentToPage=function(a,b,c){var d=void 0===c?!1:c;if(1>ic(this)&&!d)return Promise.resolve(null);c=a.container;var e=P(c,"> ."+"i-amphtml-next-page-shadow-root".replace(M,N));if(!e){a.is(6);var f=P(c,"> ."+"i-amphtml-next-page-placeholder".replace(M,N));e=this.C.createElement("div");e.classList.add("i-amphtml-next-page-shadow-root");c.replaceChild(e,f)}this.sanitizeDoc(b);try{var g=this.Da.attachShadowDoc(e,b,a.url,{visibilityState:"prerender",cap:this.Za.hasCapability("cid")?"cid":null}),k=g.ampdoc;W(k,'.i-amphtml-next-page-document{overflow:hidden}.i-amphtml-next-page-document:not(.amp-next-page-visible) [i-amphtml-fixedid]{display:none}.i-amphtml-next-page-document.amp-next-page-visible{opacity:1;overflow:visible}.i-amphtml-next-page-document:after,.i-amphtml-next-page-document:before{content:" ";display:table}.i-amphtml-next-page-placeholder{background:#eee}.amp-next-page-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.1);margin-top:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.1);display:block;overflow:auto;padding:10px 0;text-decoration:none}.amp-next-page-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.amp-next-page-text{position:relative;margin:5px 30px 5px 0;color:#3c4043;font-size:17px}\n/*# sourceURL=/extensions/amp-next-page/1.0/amp-next-page.css*/',!1,"amp-next-page");k.getBody().classList.add("i-amphtml-next-page-document");var h=this.Ja.cloneNode(!0);Pa(c,h);return nc(this,h,a).then((function(){return g}))}catch(l){return A().error("amp-next-page","failed to attach shadow document for page",l),Promise.resolve(null)}};m.closeDocument=function(a){if(a.is(6))return D();var b=a.container,c=P(b,"> ."+"i-amphtml-next-page-shadow-root".replace(M,N)),d=this.C.createElement("div");d.classList.add("i-amphtml-next-page-placeholder");var e=0,f=0;return this.J.measureMutateElement(c,(function(){e=c.offsetHeight;f=c.offsetWidth}),(function(){var k,g={height:e+"px",width:f+"px"};for(k in g)L(d,k,g[k]);b.replaceChild(d,c)}))};m.sanitizeDoc=function(a){var b=this;v(a.querySelectorAll("amp-next-page")).forEach((function(c){if(b.ya){var d=oc(c);pc(b,d)}Q(c)}));a.body.classList.add("amp-next-page-hidden");this.toggleHiddenAndReplaceableElements(a,!1)};m.toggleHiddenAndReplaceableElements=function(a,b){var c=this,d=b=void 0===b?!0:b;a!==this.G.document&&v(a.querySelectorAll("[next-page-hide]")).forEach((function(e){return Ja(e,!1)}));d&&v(a.querySelectorAll("*:not(amp-next-page) [next-page-replace]")).forEach((function(e){var f=e.getAttribute("next-page-replace");f||(f=String(Date.now()+Math.floor(100*Math.random())),e.setAttribute("next-page-replace",f));c.da[f]&&c.da[f]!==e&&Ja(c.da[f],!1);c.da[f]=e;Ja(e,!0)}))};function ic(a){return Math.round((a.o.getScrollHeight()-a.o.getScrollTop()-a.o.getHeight())/a.o.getHeight())}m.fetchPageDocument=function(a){var b=this;return E(this.H,"xhr").fetch(a.url,{ampCors:!1}).then((function(c){Yb(c.url,b.B.getUrl());a.url=c.url;return c.text()})).then((function(c){var d=b.C.implementation.createHTMLDocument("");d.open();d.write(c);d.close();return d})).catch((function(c){z().error("amp-next-page","failed to fetch %s",a.url,c);throw c}))};function hc(a){var b=oc(a.j);if(b.length)return pc(a,b);B(a.I,"%s should contain a <script> child or a URL specified in [src]","amp-next-page");return jc(a).then((function(c){return 0===c.length?(z().warn("amp-next-page","Could not find recommendations"),D()):pc(a,c)}))}function kc(a,b){if(!b.length||a.la)return D();b.forEach((function(c){try{Zb(c,a.B.getUrl()),a.h.some((function(d){return d.initialUrl==c.url}))||a.h.push(new V(a,c))}catch(d){z().error("amp-next-page","Failed to queue page due to error:",d)}}));return D()}function pc(a,b){return kc(a,b).then((function(){return a.maybeFetchNext()}))}function oc(a){var b=Na(a,"SCRIPT");if(!b.length)return[];B(1===b.length,"amp-next-page should contain at most one <script> child");a=b[0];B("SCRIPT"==a.tagName&&a.hasAttribute("type")&&"APPLICATION/JSON"==a.getAttribute("type").toUpperCase(),'amp-next-page page list should be inside a <script> tag with type="application/json"');var c=Vb(a.textContent,(function(d){z().error("amp-next-page","failed to parse inline page list",d)}));c=z().assertArray(c,"amp-next-page Page list expected an array, found: "+typeof c);Q(a);return c}function jc(a){if(!a.I)return Promise.resolve([]);if(a.ca)return a.ca;a.ca=Tb(a.B,a.j,{urlReplacement:2,xssiPrefix:a.j.getAttribute("xssi-prefix")||void 0}).then((function(b){a.I=b.next||null;a.I&&a.j.setAttribute("src",a.I);return b.pages||[]})).catch((function(b){z().error("amp-next-page","error fetching page list from remote server",b);a.I=null;return[]}));return a.ca}function ec(a,b){var c=Ma(b,"separator");return c?(Q(c),c.hasAttribute("tabindex")||c.setAttribute("tabindex","0"),c):wa(a.j)($b)}function nc(a,b,c){return a.P.hasTemplate(b)?a.P.findAndRenderTemplate(b,{title:c.title,url:c.url,image:c.image}).then((function(d){return a.J.mutateElement(b,(function(){Oa(b);b.appendChild(d)}))})):D()}function fc(a,b){var c=Ma(b,"recommendation-box");if(c)return a.N=a.P.hasTemplate(c)?function(){return qc(a)}:cc,c;a.N=function(){return rc(a)};return wa(a.j)(ac)}function qc(a){var b=a.V;a.P.hasTemplate(b);var c=a.P.maybeFindTemplate(b),d={pages:(a.h||[]).filter((function(e){return!e.isLoaded()&&!e.is(2)})).map((function(e){return{title:e.title,url:e.url,image:e.image}}))};return a.P.findAndRenderTemplate(b,d).then((function(e){return a.J.mutateElement(b,(function(){Oa(b);b.appendChild(c);b.appendChild(e)}))}))}function rc(a){var b=a.V,c={pages:(a.h||[]).filter((function(f){return!f.isLoaded()&&!f.is(2)})).map((function(f){return{title:f.title,url:f.url,image:f.image}}))},d=wa(a.j),e=c.pages.map((function(f){var g=d(bc),k=ya(g),h=k.title;k.image.src=f.image;h.textContent=f.title;g.href=f.url;g.addEventListener("click",(function(l){Xb(a.j,"amp-next-page-click",{title:f.title,url:f.url});a.Ea.navigateToAmpUrl(f.url,"content-discovery")&&l.preventDefault()}));return g}));return a.J.mutateElement(b,(function(){Oa(b);e.forEach((function(f){return b.appendChild(f)}))}))}function Z(a){a=AMP.BaseElement.call(this,a)||this;a.Fa=null;return a}u(Z,AMP.BaseElement);Z.prototype.isLayoutSupported=function(a){return"container"===a};Z.prototype.buildCallback=function(){this.Fa=G(this.element,"next-page");return this.Fa.build(this.element)};(function(a){a.registerServiceForDoc("next-page",dc);a.registerElement("amp-next-page",Z,'.i-amphtml-next-page-document{overflow:hidden}.i-amphtml-next-page-document:not(.amp-next-page-visible) [i-amphtml-fixedid]{display:none}.i-amphtml-next-page-document.amp-next-page-visible{opacity:1;overflow:visible}.i-amphtml-next-page-document:after,.i-amphtml-next-page-document:before{content:" ";display:table}.i-amphtml-next-page-placeholder{background:#eee}.amp-next-page-separator{border-bottom:1px solid rgba(0,0,0,0.12)}.amp-next-page-links{border-top:1px solid rgba(0,0,0,0.1);margin-top:16px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.amp-next-page-link{border-bottom:1px solid rgba(0,0,0,0.1);display:block;overflow:auto;padding:10px 0;text-decoration:none}.amp-next-page-image{width:72px;height:72px;float:left;margin:0 10px;background-size:cover;background-position:50%}.amp-next-page-text{position:relative;margin:5px 30px 5px 0;color:#3c4043;font-size:17px}\n/*# sourceURL=/extensions/amp-next-page/1.0/amp-next-page.css*/')})(self.AMP)}});//# sourceMappingURL=amp-next-page-1.0.js.map